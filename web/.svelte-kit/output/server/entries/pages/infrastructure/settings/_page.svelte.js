import { w as spread_props, z as head, F as ensure_array_like, y as stringify, x as attr_class, G as attr } from "../../../../chunks/index2.js";
import { I as Icon } from "../../../../chunks/Icon.js";
import { S as Server } from "../../../../chunks/server.js";
import { B as Building_2 } from "../../../../chunks/building-2.js";
import { G as Globe } from "../../../../chunks/globe.js";
import { E as External_link } from "../../../../chunks/external-link.js";
import { j as escape_html } from "../../../../chunks/context.js";
function Archive($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      [
        "rect",
        { "width": "20", "height": "5", "x": "2", "y": "3", "rx": "1" }
      ],
      ["path", { "d": "M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8" }],
      ["path", { "d": "M10 12h4" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "archive" },
      /**
       * @component @name Archive
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iNSIgeD0iMiIgeT0iMyIgcng9IjEiIC8+CiAgPHBhdGggZD0iTTQgOHYxMWEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOCIgLz4KICA8cGF0aCBkPSJNMTAgMTJoNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/archive
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Arrow_left($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["path", { "d": "m12 19-7-7 7-7" }],
      ["path", { "d": "M19 12H5" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "arrow-left" },
      /**
       * @component @name ArrowLeft
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Flask_conical($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      [
        "path",
        {
          "d": "M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2"
        }
      ],
      ["path", { "d": "M6.453 15h11.094" }],
      ["path", { "d": "M8.5 2h7" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "flask-conical" },
      /**
       * @component @name FlaskConical
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQgMnY2YTIgMiAwIDAgMCAuMjQ1Ljk2bDUuNTEgMTAuMDhBMiAyIDAgMCAxIDE4IDIySDZhMiAyIDAgMCAxLTEuNzU1LTIuOTZsNS41MS0xMC4wOEEyIDIgMCAwIDAgMTAgOFYyIiAvPgogIDxwYXRoIGQ9Ik02LjQ1MyAxNWgxMS4wOTQiIC8+CiAgPHBhdGggZD0iTTguNSAyaDciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/flask-conical
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Wrench($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      [
        "path",
        {
          "d": "M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"
        }
      ]
    ];
    Icon($$renderer2, spread_props([
      { name: "wrench" },
      /**
       * @component @name Wrench
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNyA2LjNhMSAxIDAgMCAwIDAgMS40bDEuNiAxLjZhMSAxIDAgMCAwIDEuNCAwbDMuMTA2LTMuMTA1Yy4zMi0uMzIyLjg2My0uMjIuOTgzLjIxOGE2IDYgMCAwIDEtOC4yNTkgNy4wNTdsLTcuOTEgNy45MWExIDEgMCAwIDEtMi45OTktM2w3LjkxLTcuOTFhNiA2IDAgMCAxIDcuMDU3LTguMjU5Yy40MzguMTIuNTQuNjYyLjIxOS45ODR6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/wrench
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function _page($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { data } = $$props;
    let toggleOverrides = {};
    function isEnabled(projectId, defaultEnabled) {
      if (projectId in toggleOverrides) {
        return toggleOverrides[projectId];
      }
      return defaultEnabled;
    }
    function countEnabled(projects) {
      return projects.filter((p) => isEnabled(p.projectId, p.enabled)).length;
    }
    function getTypeIcon(type) {
      switch (type) {
        case "campus":
          return Server;
        case "org-portal":
          return Building_2;
        case "testing":
          return Flask_conical;
        case "infrastructure":
          return Wrench;
        default:
          return Archive;
      }
    }
    function getTypeColor(type) {
      switch (type) {
        case "campus":
          return "text-blue-400";
        case "org-portal":
          return "text-emerald-400";
        case "testing":
          return "text-amber-400";
        case "infrastructure":
          return "text-purple-400";
        default:
          return "text-gray-500";
      }
    }
    head("17crefa", $$renderer2, ($$renderer3) => {
      $$renderer3.title(($$renderer4) => {
        $$renderer4.push(`<title>Infrastructure Settings | Orchon</title>`);
      });
    });
    $$renderer2.push(`<div class="min-h-screen bg-gray-950 text-gray-100"><div class="sticky top-0 z-10 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800"><div class="max-w-6xl mx-auto px-4 py-3"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><a href="/infrastructure/map" class="p-2 hover:bg-gray-800 rounded-lg transition-colors">`);
    Arrow_left($$renderer2, { class: "w-5 h-5" });
    $$renderer2.push(`<!----></a> <div><h1 class="text-lg font-semibold">Infrastructure Settings</h1> <p class="text-xs text-gray-500">Manage GCP projects visibility in the infrastructure map</p></div></div> <div class="flex items-center gap-3">`);
    {
      $$renderer2.push("<!--[!-->");
    }
    $$renderer2.push(`<!--]--> `);
    {
      $$renderer2.push("<!--[!-->");
    }
    $$renderer2.push(`<!--]--></div></div></div></div> <div class="bg-gray-900/50 border-b border-gray-800"><div class="max-w-6xl mx-auto px-4 py-3"><div class="flex items-center gap-6 text-sm"><div class="flex items-center gap-2"><span class="text-gray-500">Total:</span> <span class="font-medium">${escape_html(data.stats.total)}</span></div> <div class="flex items-center gap-2"><span class="text-gray-500">Enabled:</span> <span class="font-medium text-emerald-400">${escape_html(Object.values(toggleOverrides).filter((v) => v).length + data.projects.filter((p) => !(p.projectId in toggleOverrides) && p.enabled).length)}</span></div> <div class="w-px h-4 bg-gray-700"></div> <div class="flex items-center gap-1.5">`);
    Server($$renderer2, { class: "w-3.5 h-3.5 text-blue-400" });
    $$renderer2.push(`<!----> <span class="text-gray-400">${escape_html(data.stats.campuses)}</span></div> <div class="flex items-center gap-1.5">`);
    Building_2($$renderer2, { class: "w-3.5 h-3.5 text-emerald-400" });
    $$renderer2.push(`<!----> <span class="text-gray-400">${escape_html(data.stats.orgPortals)}</span></div> <div class="flex items-center gap-1.5">`);
    Flask_conical($$renderer2, { class: "w-3.5 h-3.5 text-amber-400" });
    $$renderer2.push(`<!----> <span class="text-gray-400">${escape_html(data.stats.testing)}</span></div> <div class="flex items-center gap-1.5">`);
    Wrench($$renderer2, { class: "w-3.5 h-3.5 text-purple-400" });
    $$renderer2.push(`<!----> <span class="text-gray-400">${escape_html(data.stats.infrastructure)}</span></div> <div class="flex items-center gap-1.5">`);
    Archive($$renderer2, { class: "w-3.5 h-3.5 text-gray-500" });
    $$renderer2.push(`<!----> <span class="text-gray-400">${escape_html(data.stats.other)}</span></div></div></div></div> <div class="max-w-6xl mx-auto px-4 py-6 space-y-6"><!--[-->`);
    const each_array = ensure_array_like(data.groupedProjects);
    for (let $$index_1 = 0, $$length = each_array.length; $$index_1 < $$length; $$index_1++) {
      let group = each_array[$$index_1];
      const TypeIcon = getTypeIcon(group.type);
      const typeColor = getTypeColor(group.type);
      const enabledCount = countEnabled(group.projects);
      $$renderer2.push(`<div class="bg-gray-900 rounded-xl border border-gray-800 overflow-hidden"><div class="px-4 py-3 bg-gray-800/50 border-b border-gray-800 flex items-center justify-between"><div class="flex items-center gap-3"><!---->`);
      TypeIcon($$renderer2, { class: `w-5 h-5 ${stringify(typeColor)}` });
      $$renderer2.push(`<!----> <span class="font-medium">${escape_html(group.displayType)}</span> <span class="text-sm text-gray-500">(${escape_html(enabledCount)}/${escape_html(group.projects.length)} enabled)</span></div> <div class="flex items-center gap-2"><button class="px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors">Enable All</button> <button class="px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors">Disable All</button></div></div> <div class="divide-y divide-gray-800"><!--[-->`);
      const each_array_1 = ensure_array_like(group.projects);
      for (let $$index = 0, $$length2 = each_array_1.length; $$index < $$length2; $$index++) {
        let project = each_array_1[$$index];
        const enabled = isEnabled(project.projectId, project.enabled);
        const isOverridden = project.projectId in toggleOverrides;
        $$renderer2.push(`<div${attr_class(`px-4 py-3 flex items-center gap-4 hover:bg-gray-800/30 transition-colors ${stringify(!enabled ? "opacity-50" : "")}`)}><button${attr_class(`w-10 h-6 rounded-full transition-colors relative ${stringify(enabled ? "bg-emerald-600" : "bg-gray-700")}`)}><span${attr_class(`absolute top-1 w-4 h-4 rounded-full bg-white transition-all ${stringify(enabled ? "left-5" : "left-1")}`)}></span></button> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="font-medium text-sm truncate">${escape_html(project.displayName)}</span> `);
        if (isOverridden) {
          $$renderer2.push("<!--[-->");
          $$renderer2.push(`<span class="px-1.5 py-0.5 text-[10px] bg-amber-500/20 text-amber-400 rounded">modified</span>`);
        } else {
          $$renderer2.push("<!--[!-->");
        }
        $$renderer2.push(`<!--]--></div> <div class="text-xs text-gray-500 font-mono truncate">${escape_html(project.projectId)}</div></div> <div class="w-64 text-sm">`);
        if (project.customDomain) {
          $$renderer2.push("<!--[-->");
          $$renderer2.push(`<a${attr("href", `https://${stringify(project.customDomain)}`)} target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-blue-400 hover:text-blue-300 truncate group">`);
          Globe($$renderer2, { class: "w-3.5 h-3.5 shrink-0" });
          $$renderer2.push(`<!----> <span class="truncate">${escape_html(project.customDomain)}</span> `);
          External_link($$renderer2, { class: "w-3 h-3 shrink-0 opacity-0 group-hover:opacity-100" });
          $$renderer2.push(`<!----></a>`);
        } else {
          $$renderer2.push("<!--[!-->");
          $$renderer2.push(`<span class="text-gray-600">No custom domain</span>`);
        }
        $$renderer2.push(`<!--]--></div> <div class="flex items-center gap-2"><button class="p-2 hover:bg-gray-700 rounded-lg transition-colors text-gray-400 hover:text-white" title="Open GCP Console">`);
        External_link($$renderer2, { class: "w-4 h-4" });
        $$renderer2.push(`<!----></button></div></div>`);
      }
      $$renderer2.push(`<!--]--></div></div>`);
    }
    $$renderer2.push(`<!--]--> <div class="bg-gray-900/50 rounded-xl border border-gray-800 p-4"><h3 class="font-medium mb-2">How this works</h3> <ul class="text-sm text-gray-400 space-y-1"><li>Toggle projects to show/hide them in the Infrastructure Map's Ownership view</li> <li>Changes are saved to your browser's localStorage</li> <li>Click the external link icon to open the project in GCP Console</li> <li>Projects marked "Old / Deprecated" are safe to delete from GCP if unused</li></ul></div></div></div>`);
  });
}
export {
  _page as default
};
