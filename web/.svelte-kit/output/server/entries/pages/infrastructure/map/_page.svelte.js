import { w as spread_props, z as head, G as attr, F as ensure_array_like, K as attr_style, y as stringify } from "../../../../chunks/index2.js";
import "d3-zoom";
import { I as Icon } from "../../../../chunks/Icon.js";
import { j as escape_html } from "../../../../chunks/context.js";
function Arrow_up_a_z($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["path", { "d": "m3 8 4-4 4 4" }],
      ["path", { "d": "M7 4v16" }],
      ["path", { "d": "M20 8h-5" }],
      ["path", { "d": "M15 10V6.5a2.5 2.5 0 0 1 5 0V10" }],
      ["path", { "d": "M15 14h5l-5 6h5" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "arrow-up-a-z" },
      /**
       * @component @name ArrowUpAZ
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyA4IDQtNCA0IDQiIC8+CiAgPHBhdGggZD0iTTcgNHYxNiIgLz4KICA8cGF0aCBkPSJNMjAgOGgtNSIgLz4KICA8cGF0aCBkPSJNMTUgMTBWNi41YTIuNSAyLjUgMCAwIDEgNSAwVjEwIiAvPgogIDxwYXRoIGQ9Ik0xNSAxNGg1bC01IDZoNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-up-a-z
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Maximize_2($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["path", { "d": "M15 3h6v6" }],
      ["path", { "d": "m21 3-7 7" }],
      ["path", { "d": "m3 21 7-7" }],
      ["path", { "d": "M9 21H3v-6" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "maximize-2" },
      /**
       * @component @name Maximize2
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0ibTIxIDMtNyA3IiAvPgogIDxwYXRoIGQ9Im0zIDIxIDctNyIgLz4KICA8cGF0aCBkPSJNOSAyMUgzdi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/maximize-2
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Zoom_in($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["circle", { "cx": "11", "cy": "11", "r": "8" }],
      [
        "line",
        { "x1": "21", "x2": "16.65", "y1": "21", "y2": "16.65" }
      ],
      ["line", { "x1": "11", "x2": "11", "y1": "8", "y2": "14" }],
      ["line", { "x1": "8", "x2": "14", "y1": "11", "y2": "11" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "zoom-in" },
      /**
       * @component @name ZoomIn
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxsaW5lIHgxPSIyMSIgeDI9IjE2LjY1IiB5MT0iMjEiIHkyPSIxNi42NSIgLz4KICA8bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjE0IiB5MT0iMTEiIHkyPSIxMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zoom-in
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Zoom_out($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["circle", { "cx": "11", "cy": "11", "r": "8" }],
      [
        "line",
        { "x1": "21", "x2": "16.65", "y1": "21", "y2": "16.65" }
      ],
      ["line", { "x1": "8", "x2": "14", "y1": "11", "y2": "11" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "zoom-out" },
      /**
       * @component @name ZoomOut
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxsaW5lIHgxPSIyMSIgeDI9IjE2LjY1IiB5MT0iMjEiIHkyPSIxNi42NSIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjE0IiB5MT0iMTEiIHkyPSIxMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zoom-out
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function _page($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { data } = $$props;
    let sortedProjects = [...data.projects].sort((a, b) => a.displayName.localeCompare(b.displayName));
    let currentZoom = 1;
    const COLS = 4;
    const CARD_WIDTH = 300;
    const CARD_HEIGHT = 340;
    const GAP = 40;
    const PADDING = 50;
    const providerColors = {
      cloudflare: "#f38020",
      supabase: "#3ecf8e",
      flyio: "#7c3aed",
      firebase: "#ffca28",
      gcp: "#4285f4",
      github: "#6e7681",
      pocketbase: "#b8dbe4",
      sentry: "#362d59",
      vercel: "#000000",
      netlify: "#00c7b7",
      resend: "#000000",
      sendgrid: "#1a82e2",
      mailgun: "#f06b66",
      digitalocean: "#0080ff"
    };
    function getCategoryLabel(category) {
      const labels = {
        hosting: "Host",
        database: "DB",
        auth: "Auth",
        storage: "Store",
        ci: "CI/CD",
        monitoring: "Monitor",
        dns: "DNS",
        email: "Email"
      };
      return labels[category] || category;
    }
    function getCategoryIcon(category) {
      const icons = {
        hosting: "â˜",
        // cloud
        database: "ðŸ—„",
        // file cabinet / cylinder-ish
        auth: "ðŸ›¡",
        // shield
        storage: "ðŸ’¾",
        // floppy
        ci: "âš™",
        // gear
        monitoring: "ðŸ“Š",
        // chart
        dns: "ðŸŒ",
        // globe
        email: "âœ‰"
        // envelope
      };
      return icons[category] || "â—";
    }
    const identityColors = { jaslr: "#3b82f6", "jvp-ux": "#8b5cf6" };
    function getHostingProvider(services) {
      const hosting = services.find((s) => s.category === "hosting");
      return hosting?.provider || "unknown";
    }
    function getDisplayUrl(url) {
      try {
        return new URL(url).hostname;
      } catch {
        return url;
      }
    }
    Math.ceil(sortedProjects.length / COLS);
    function getCardPosition(index) {
      const col = index % COLS;
      const row = Math.floor(index / COLS);
      return {
        x: PADDING + col * (CARD_WIDTH + GAP),
        y: PADDING + row * (CARD_HEIGHT + GAP)
      };
    }
    head("hoqwi7", $$renderer2, ($$renderer3) => {
      $$renderer3.title(($$renderer4) => {
        $$renderer4.push(`<title>Infrastructure Map | Orchon</title>`);
      });
    });
    $$renderer2.push(`<div class="h-full flex flex-col bg-gray-950 overflow-hidden"><div class="shrink-0 flex items-center justify-between px-4 py-2 bg-gray-900/80 border-b border-gray-800 backdrop-blur-sm z-10"><div class="flex items-center gap-4"><h1 class="text-lg font-semibold text-white">Infrastructure Map</h1> <span class="text-xs text-gray-500">${escape_html(sortedProjects.length)} projects</span> <span class="text-xs text-gray-600">|</span> <span class="text-xs text-gray-500">Data: <code class="text-gray-400">lib/config/infrastructure.ts</code></span></div> <div class="flex items-center gap-2"><button class="flex items-center gap-1.5 px-2 py-1 bg-gray-800 hover:bg-gray-700 rounded text-xs text-gray-300 transition-colors"${attr("title", "Sort Z-A")}>`);
    {
      $$renderer2.push("<!--[-->");
      Arrow_up_a_z($$renderer2, { class: "w-3.5 h-3.5" });
    }
    $$renderer2.push(`<!--]--> Sort</button> <div class="flex items-center gap-1 ml-2"><button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors" title="Zoom out">`);
    Zoom_out($$renderer2, { class: "w-4 h-4" });
    $$renderer2.push(`<!----></button> <span class="text-xs text-gray-400 w-12 text-center">${escape_html(Math.round(currentZoom * 100))}%</span> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors" title="Zoom in">`);
    Zoom_in($$renderer2, { class: "w-4 h-4" });
    $$renderer2.push(`<!----></button> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors ml-1" title="Reset view">`);
    Maximize_2($$renderer2, { class: "w-4 h-4" });
    $$renderer2.push(`<!----></button></div></div></div> <div class="shrink-0 px-4 py-1 text-xs text-gray-500 bg-gray-900/50">Scroll to zoom | Drag to pan | Click links to open dashboards</div> <div class="flex-1 overflow-hidden relative bg-gray-950"><svg class="w-full h-full svelte-hoqwi7" style="cursor: grab;"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(55, 65, 81, 0.3)" stroke-width="0.5"></path></pattern><filter id="cardShadow" x="-10%" y="-10%" width="120%" height="120%"><feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="rgba(0,0,0,0.5)"></feDropShadow></filter></defs><rect width="100%" height="100%" fill="url(#grid)"></rect><g><!--[-->`);
    const each_array = ensure_array_like(sortedProjects);
    for (let index = 0, $$length = each_array.length; index < $$length; index++) {
      let project = each_array[index];
      const pos = getCardPosition(index);
      const identityColor = identityColors[project.identity] || "#6b7280";
      const hostProvider = getHostingProvider(project.services);
      const hostColor = providerColors[hostProvider] || "#6b7280";
      $$renderer2.push(`<g${attr("transform", `translate(${stringify(pos.x)}, ${stringify(pos.y)})`)}><rect${attr("width", CARD_WIDTH)}${attr("height", CARD_HEIGHT)} rx="8" fill="#111827" stroke="#374151" stroke-width="1" filter="url(#cardShadow)"></rect><rect x="0" y="0" width="4"${attr("height", CARD_HEIGHT)} rx="2"${attr("fill", identityColor)}></rect><rect x="4" y="0"${attr("width", CARD_WIDTH - 4)} height="70" rx="8" fill="#1f2937"></rect><text x="16" y="24" font-size="14" font-weight="600" fill="white" font-family="system-ui, -apple-system, sans-serif" class="svelte-hoqwi7">${escape_html(project.displayName)}</text><rect${attr("x", CARD_WIDTH - 70)} y="8" width="58" height="20" rx="4"${attr("fill", `${stringify(hostColor)}30`)}></rect><text${attr("x", CARD_WIDTH - 41)} y="22" font-size="10" font-weight="500"${attr("fill", hostColor)} text-anchor="middle" font-family="system-ui, sans-serif" class="svelte-hoqwi7">${escape_html(hostProvider)}</text>`);
      if (project.productionUrl) {
        $$renderer2.push("<!--[-->");
        $$renderer2.push(`<g class="cursor-pointer"><text x="16" y="42" font-size="11" fill="#60a5fa" font-family="system-ui, sans-serif" class="svelte-hoqwi7">${escape_html(getDisplayUrl(project.productionUrl))}</text></g>`);
      } else {
        $$renderer2.push("<!--[!-->");
        $$renderer2.push(`<text x="16" y="42" font-size="11" fill="#6b7280" font-family="system-ui, sans-serif" class="svelte-hoqwi7">No production URL</text>`);
      }
      $$renderer2.push(`<!--]--><text x="16" y="58" font-size="10" fill="#6b7280" font-family="ui-monospace, monospace" class="svelte-hoqwi7">${escape_html(project.id)}</text><!--[-->`);
      const each_array_1 = ensure_array_like(project.services);
      for (let svcIdx = 0, $$length2 = each_array_1.length; svcIdx < $$length2; svcIdx++) {
        let service = each_array_1[svcIdx];
        const svcY = 80 + svcIdx * 28;
        const color = providerColors[service.provider] || "#6b7280";
        if (svcY + 28 < CARD_HEIGHT - 10) {
          $$renderer2.push("<!--[-->");
          $$renderer2.push(`<rect x="8"${attr("y", svcY)}${attr("width", CARD_WIDTH - 16)} height="24" rx="4" fill="#1f293780"></rect><circle cx="22"${attr("cy", svcY + 12)} r="10"${attr("fill", `${stringify(color)}20`)}></circle><text x="22"${attr("y", svcY + 16)} font-size="10"${attr("fill", color)} text-anchor="middle" font-family="system-ui, sans-serif" class="svelte-hoqwi7">${escape_html(getCategoryIcon(service.category))}</text><text x="40"${attr("y", svcY + 16)} font-size="10" fill="#9ca3af" font-family="system-ui, sans-serif" class="svelte-hoqwi7">${escape_html(getCategoryLabel(service.category))}</text>`);
          if (service.dashboardUrl) {
            $$renderer2.push("<!--[-->");
            $$renderer2.push(`<g class="cursor-pointer"><text x="95"${attr("y", svcY + 16)} font-size="11" font-weight="500" fill="#e5e7eb" font-family="system-ui, sans-serif" class="svelte-hoqwi7">${escape_html(service.provider)}</text><text${attr("x", CARD_WIDTH - 24)}${attr("y", svcY + 16)} font-size="10" fill="#6b7280" class="svelte-hoqwi7">â†—</text></g>`);
          } else {
            $$renderer2.push("<!--[!-->");
            $$renderer2.push(`<text x="95"${attr("y", svcY + 16)} font-size="11" font-weight="500" fill="#d1d5db" font-family="system-ui, sans-serif" class="svelte-hoqwi7">${escape_html(service.provider)}</text>`);
          }
          $$renderer2.push(`<!--]-->`);
        } else {
          $$renderer2.push("<!--[!-->");
        }
        $$renderer2.push(`<!--]-->`);
      }
      $$renderer2.push(`<!--]--></g>`);
    }
    $$renderer2.push(`<!--]--></g></svg></div> <div class="shrink-0 px-4 py-2 bg-gray-900/90 border-t border-gray-800 flex items-center gap-6 flex-wrap"><div class="flex items-center gap-3"><span class="text-xs text-gray-500">Identity:</span> <!--[-->`);
    const each_array_2 = ensure_array_like(Object.entries(identityColors));
    for (let $$index_2 = 0, $$length = each_array_2.length; $$index_2 < $$length; $$index_2++) {
      let [identity, color] = each_array_2[$$index_2];
      $$renderer2.push(`<div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded"${attr_style(`background-color: ${stringify(color)};`)}></div> <span class="text-xs text-gray-400">${escape_html(identity)}</span></div>`);
    }
    $$renderer2.push(`<!--]--></div> <div class="flex items-center gap-3"><span class="text-xs text-gray-500">Providers:</span> <!--[-->`);
    const each_array_3 = ensure_array_like(Object.entries(providerColors).slice(0, 8));
    for (let $$index_3 = 0, $$length = each_array_3.length; $$index_3 < $$length; $$index_3++) {
      let [provider, color] = each_array_3[$$index_3];
      $$renderer2.push(`<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-sm"${attr_style(`background-color: ${stringify(color)};`)}></div> <span class="text-[10px] text-gray-500">${escape_html(provider)}</span></div>`);
    }
    $$renderer2.push(`<!--]--></div></div></div>`);
  });
}
export {
  _page as default
};
