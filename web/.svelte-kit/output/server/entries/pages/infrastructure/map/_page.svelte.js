import { w as spread_props, z as head, x as attr_class, K as attr_style, F as ensure_array_like, G as attr, y as stringify } from "../../../../chunks/index2.js";
import { I as Icon } from "../../../../chunks/Icon.js";
import { E as External_link } from "../../../../chunks/external-link.js";
import { C as Cloud } from "../../../../chunks/cloud.js";
import { M as Mail, G as Globe, H as Hard_drive, S as Shield } from "../../../../chunks/shield.js";
import { A as Activity } from "../../../../chunks/activity.js";
import { G as Git_branch } from "../../../../chunks/git-branch.js";
import { D as Database } from "../../../../chunks/database.js";
import { j as escape_html } from "../../../../chunks/context.js";
function Arrow_up_a_z($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["path", { "d": "m3 8 4-4 4 4" }],
      ["path", { "d": "M7 4v16" }],
      ["path", { "d": "M20 8h-5" }],
      ["path", { "d": "M15 10V6.5a2.5 2.5 0 0 1 5 0V10" }],
      ["path", { "d": "M15 14h5l-5 6h5" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "arrow-up-a-z" },
      /**
       * @component @name ArrowUpAZ
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyA4IDQtNCA0IDQiIC8+CiAgPHBhdGggZD0iTTcgNHYxNiIgLz4KICA8cGF0aCBkPSJNMjAgOGgtNSIgLz4KICA8cGF0aCBkPSJNMTUgMTBWNi41YTIuNSAyLjUgMCAwIDEgNSAwVjEwIiAvPgogIDxwYXRoIGQ9Ik0xNSAxNGg1bC01IDZoNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-up-a-z
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Maximize_2($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["path", { "d": "M15 3h6v6" }],
      ["path", { "d": "m21 3-7 7" }],
      ["path", { "d": "m3 21 7-7" }],
      ["path", { "d": "M9 21H3v-6" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "maximize-2" },
      /**
       * @component @name Maximize2
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0ibTIxIDMtNyA3IiAvPgogIDxwYXRoIGQ9Im0zIDIxIDctNyIgLz4KICA8cGF0aCBkPSJNOSAyMUgzdi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/maximize-2
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Zoom_in($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["circle", { "cx": "11", "cy": "11", "r": "8" }],
      [
        "line",
        { "x1": "21", "x2": "16.65", "y1": "21", "y2": "16.65" }
      ],
      ["line", { "x1": "11", "x2": "11", "y1": "8", "y2": "14" }],
      ["line", { "x1": "8", "x2": "14", "y1": "11", "y2": "11" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "zoom-in" },
      /**
       * @component @name ZoomIn
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxsaW5lIHgxPSIyMSIgeDI9IjE2LjY1IiB5MT0iMjEiIHkyPSIxNi42NSIgLz4KICA8bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjE0IiB5MT0iMTEiIHkyPSIxMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zoom-in
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Zoom_out($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["circle", { "cx": "11", "cy": "11", "r": "8" }],
      [
        "line",
        { "x1": "21", "x2": "16.65", "y1": "21", "y2": "16.65" }
      ],
      ["line", { "x1": "8", "x2": "14", "y1": "11", "y2": "11" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "zoom-out" },
      /**
       * @component @name ZoomOut
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxsaW5lIHgxPSIyMSIgeDI9IjE2LjY1IiB5MT0iMjEiIHkyPSIxNi42NSIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjE0IiB5MT0iMTEiIHkyPSIxMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zoom-out
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function _page($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { data } = $$props;
    let sortedProjects = [...data.projects].sort((a, b) => a.displayName.localeCompare(b.displayName));
    let zoomLevel = 1;
    let isPanning = false;
    const COLS = 4;
    const CARD_WIDTH = 300;
    const providerColors = {
      cloudflare: "#f38020",
      supabase: "#3ecf8e",
      flyio: "#7c3aed",
      firebase: "#ffca28",
      gcp: "#4285f4",
      github: "#6e7681",
      pocketbase: "#b8dbe4",
      sentry: "#362d59",
      vercel: "#171717",
      netlify: "#00c7b7",
      resend: "#171717",
      sendgrid: "#1a82e2",
      mailgun: "#f06b66",
      digitalocean: "#0080ff"
    };
    function getCategoryIcon(category) {
      switch (category) {
        case "hosting":
          return Cloud;
        case "database":
          return Database;
        case "auth":
          return Shield;
        case "storage":
          return Hard_drive;
        case "ci":
          return Git_branch;
        case "monitoring":
          return Activity;
        case "dns":
          return Globe;
        case "email":
          return Mail;
        default:
          return Cloud;
      }
    }
    function getCategoryLabel(category) {
      const labels = {
        hosting: "Host",
        database: "DB",
        auth: "Auth",
        storage: "Storage",
        ci: "CI/CD",
        monitoring: "Monitor",
        dns: "DNS",
        email: "Email"
      };
      return labels[category] || category;
    }
    const identityColors = { jaslr: "#3b82f6", "jvp-ux": "#8b5cf6" };
    function getHostingProvider(services) {
      const hosting = services.find((s) => s.category === "hosting");
      return hosting?.provider || "unknown";
    }
    function getDisplayUrl(url) {
      try {
        return new URL(url).hostname;
      } catch {
        return url;
      }
    }
    Math.ceil(sortedProjects.length / COLS);
    head("hoqwi7", $$renderer2, ($$renderer3) => {
      $$renderer3.title(($$renderer4) => {
        $$renderer4.push(`<title>Infrastructure Map | Orchon</title>`);
      });
    });
    $$renderer2.push(`<div class="h-full flex flex-col bg-gray-950 overflow-hidden"><div class="shrink-0 flex items-center justify-between px-4 py-2 bg-gray-900/80 border-b border-gray-800 backdrop-blur-sm z-10"><div class="flex items-center gap-4"><h1 class="text-lg font-semibold text-white">Infrastructure Map</h1> <span class="text-xs text-gray-500">${escape_html(sortedProjects.length)} projects</span> <span class="text-xs text-gray-600">|</span> <span class="text-xs text-gray-500">Data: <code class="text-gray-400">lib/config/infrastructure.ts</code></span></div> <div class="flex items-center gap-2"><button class="flex items-center gap-1.5 px-2 py-1 bg-gray-800 hover:bg-gray-700 rounded text-xs text-gray-300 transition-colors">`);
    {
      $$renderer2.push("<!--[-->");
      Arrow_up_a_z($$renderer2, { class: "w-3.5 h-3.5" });
    }
    $$renderer2.push(`<!--]--> Sort</button> <div class="flex items-center gap-1 ml-2"><button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300">`);
    Zoom_out($$renderer2, { class: "w-4 h-4" });
    $$renderer2.push(`<!----></button> <span class="text-xs text-gray-400 w-12 text-center">${escape_html(Math.round(zoomLevel * 100))}%</span> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300">`);
    Zoom_in($$renderer2, { class: "w-4 h-4" });
    $$renderer2.push(`<!----></button> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 ml-1">`);
    Maximize_2($$renderer2, { class: "w-4 h-4" });
    $$renderer2.push(`<!----></button></div></div></div> <div class="shrink-0 px-4 py-1 text-xs text-gray-500 bg-gray-900/50">Scroll to zoom | Drag to pan | Click links to open dashboards</div> <div${attr_class("flex-1 overflow-auto relative cursor-grab select-none", void 0, { "cursor-grabbing": isPanning })} role="application" tabindex="0"><div class="absolute inset-0 pointer-events-none" style="background-image: linear-gradient(rgba(55, 65, 81, 0.25) 1px, transparent 1px), linear-gradient(90deg, rgba(55, 65, 81, 0.25) 1px, transparent 1px); background-size: 40px 40px;"></div> <div class="p-8 grid gap-10 relative"${attr_style(` zoom: ${stringify(zoomLevel)}; grid-template-columns: repeat(${stringify(COLS)}, ${stringify(CARD_WIDTH)}px); width: max-content; min-height: 100%; `)}><!--[-->`);
    const each_array = ensure_array_like(sortedProjects);
    for (let $$index_1 = 0, $$length = each_array.length; $$index_1 < $$length; $$index_1++) {
      let project = each_array[$$index_1];
      const identityColor = identityColors[project.identity] || "#6b7280";
      const hostProvider = getHostingProvider(project.services);
      const hostColor = providerColors[hostProvider] || "#6b7280";
      $$renderer2.push(`<div class="bg-gray-900 border border-gray-700 rounded-lg overflow-hidden shadow-xl hover:border-gray-600 transition-colors"${attr_style(`border-left: 4px solid ${stringify(identityColor)}; width: ${stringify(CARD_WIDTH)}px;`)}><div class="px-4 py-3 bg-gray-800/70 border-b border-gray-700"><div class="flex items-center justify-between gap-2"><span class="font-semibold text-white text-sm">${escape_html(project.displayName)}</span> <span class="px-2 py-0.5 rounded text-[10px] font-medium"${attr_style(`background-color: ${stringify(hostColor)}25; color: ${stringify(hostColor)};`)}>${escape_html(hostProvider)}</span></div> `);
      if (project.productionUrl) {
        $$renderer2.push("<!--[-->");
        $$renderer2.push(`<a${attr("href", project.productionUrl)} target="_blank" rel="noopener noreferrer" class="flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 mt-1.5 group"><span class="truncate">${escape_html(getDisplayUrl(project.productionUrl))}</span> `);
        External_link($$renderer2, { class: "w-3 h-3 opacity-60 group-hover:opacity-100" });
        $$renderer2.push(`<!----></a>`);
      } else {
        $$renderer2.push("<!--[!-->");
        $$renderer2.push(`<div class="text-xs text-gray-500 mt-1.5">No production URL</div>`);
      }
      $$renderer2.push(`<!--]--> <div class="text-[10px] text-gray-500 mt-1 font-mono">${escape_html(project.id)}</div></div> <div class="p-3 space-y-1.5"><!--[-->`);
      const each_array_1 = ensure_array_like(project.services);
      for (let idx = 0, $$length2 = each_array_1.length; idx < $$length2; idx++) {
        let service = each_array_1[idx];
        const Icon2 = getCategoryIcon(service.category);
        const color = providerColors[service.provider] || "#6b7280";
        if (service.dashboardUrl) {
          $$renderer2.push("<!--[-->");
          $$renderer2.push(`<a${attr("href", service.dashboardUrl)} target="_blank" rel="noopener noreferrer" class="flex items-center gap-2.5 px-2.5 py-2 bg-gray-800/50 hover:bg-gray-800 rounded text-xs transition-colors group"><div class="w-7 h-7 rounded flex items-center justify-center shrink-0"${attr_style(`background-color: ${stringify(color)}20;`)}><!---->`);
          Icon2($$renderer2, { class: "w-4 h-4", style: `color: ${stringify(color)};` });
          $$renderer2.push(`<!----></div> <div class="flex-1 min-w-0 flex items-center gap-3"><span class="text-gray-500 w-14 shrink-0">${escape_html(getCategoryLabel(service.category))}</span> <span class="text-gray-200 group-hover:text-white font-medium">${escape_html(service.provider)}</span></div> `);
          External_link($$renderer2, {
            class: "w-3.5 h-3.5 text-gray-600 group-hover:text-gray-400 shrink-0"
          });
          $$renderer2.push(`<!----></a>`);
        } else {
          $$renderer2.push("<!--[!-->");
          $$renderer2.push(`<div class="flex items-center gap-2.5 px-2.5 py-2 bg-gray-800/50 rounded text-xs"><div class="w-7 h-7 rounded flex items-center justify-center shrink-0"${attr_style(`background-color: ${stringify(color)}20;`)}><!---->`);
          Icon2($$renderer2, { class: "w-4 h-4", style: `color: ${stringify(color)};` });
          $$renderer2.push(`<!----></div> <div class="flex-1 min-w-0 flex items-center gap-3"><span class="text-gray-500 w-14 shrink-0">${escape_html(getCategoryLabel(service.category))}</span> <span class="text-gray-300 font-medium">${escape_html(service.provider)}</span></div></div>`);
        }
        $$renderer2.push(`<!--]-->`);
      }
      $$renderer2.push(`<!--]--></div></div>`);
    }
    $$renderer2.push(`<!--]--></div></div> <div class="shrink-0 px-4 py-2 bg-gray-900/90 border-t border-gray-800 flex items-center gap-6 flex-wrap"><div class="flex items-center gap-3"><span class="text-xs text-gray-500">Identity:</span> <!--[-->`);
    const each_array_2 = ensure_array_like(Object.entries(identityColors));
    for (let $$index_2 = 0, $$length = each_array_2.length; $$index_2 < $$length; $$index_2++) {
      let [identity, color] = each_array_2[$$index_2];
      $$renderer2.push(`<div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded"${attr_style(`background-color: ${stringify(color)};`)}></div> <span class="text-xs text-gray-400">${escape_html(identity)}</span></div>`);
    }
    $$renderer2.push(`<!--]--></div> <div class="flex items-center gap-3"><span class="text-xs text-gray-500">Providers:</span> <!--[-->`);
    const each_array_3 = ensure_array_like(Object.entries(providerColors).slice(0, 8));
    for (let $$index_3 = 0, $$length = each_array_3.length; $$index_3 < $$length; $$index_3++) {
      let [provider, color] = each_array_3[$$index_3];
      $$renderer2.push(`<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-sm"${attr_style(`background-color: ${stringify(color)};`)}></div> <span class="text-[10px] text-gray-500">${escape_html(provider)}</span></div>`);
    }
    $$renderer2.push(`<!--]--></div></div></div>`);
  });
}
export {
  _page as default
};
