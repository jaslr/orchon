import"../chunks/DsnmJJEf.js";import{p as j,c as G,b as E,n as X,a as u,d as O,an as ee,a9 as lt,f as z,aa as M,F as r,A as e,I as o,D as L,J as dt,am as N,ao as ct,G as a,al as Ce,as as De}from"../chunks/CL4b-QGh.js";import{s as Z,d as vt,e as Le,a as m}from"../chunks/DFDYhcTj.js";import{i as xe}from"../chunks/Dq793ZgP.js";import{I as q,e as te,a as pt,h as I,s as Ie}from"../chunks/COk9xX4d.js";import{c as Pe}from"../chunks/BzCjhwUL.js";import{h as ut,C as Ue}from"../chunks/B_BmYVQ0.js";import{b as gt}from"../chunks/mSVTiZ1v.js";import{s as B,r as F}from"../chunks/DGsCO491.js";import{E as Ae}from"../chunks/CAWl8KFU.js";import{M as xt,G as mt,H as ft,S as ht}from"../chunks/DzOQ8_NA.js";import{A as _t}from"../chunks/5dYMtlhC.js";import{G as yt}from"../chunks/Cycx0LZO.js";import{D as bt}from"../chunks/B_1YJyaF.js";function wt(f,n){j(n,!0);let v=F(n,["$$slots","$$events","$$legacy"]);const g=[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 4v16"}],["path",{d:"M15 4h5l-5 6h5"}],["path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}],["path",{d:"M20 18h-5"}]];q(f,B({name:"arrow-down-z-a"},()=>v,{get iconNode(){return g},children:(i,p)=>{var l=G(),c=E(l);Z(c,()=>n.children??X),u(i,l)},$$slots:{default:!0}})),O()}function $t(f,n){j(n,!0);let v=F(n,["$$slots","$$events","$$legacy"]);const g=[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M20 8h-5"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}],["path",{d:"M15 14h5l-5 6h5"}]];q(f,B({name:"arrow-up-a-z"},()=>v,{get iconNode(){return g},children:(i,p)=>{var l=G(),c=E(l);Z(c,()=>n.children??X),u(i,l)},$$slots:{default:!0}})),O()}function kt(f,n){j(n,!0);let v=F(n,["$$slots","$$events","$$legacy"]);const g=[["path",{d:"M15 3h6v6"}],["path",{d:"m21 3-7 7"}],["path",{d:"m3 21 7-7"}],["path",{d:"M9 21H3v-6"}]];q(f,B({name:"maximize-2"},()=>v,{get iconNode(){return g},children:(i,p)=>{var l=G(),c=E(l);Z(c,()=>n.children??X),u(i,l)},$$slots:{default:!0}})),O()}function Mt(f,n){j(n,!0);let v=F(n,["$$slots","$$events","$$legacy"]);const g=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];q(f,B({name:"zoom-in"},()=>v,{get iconNode(){return g},children:(i,p)=>{var l=G(),c=E(l);Z(c,()=>n.children??X),u(i,l)},$$slots:{default:!0}})),O()}function Nt(f,n){j(n,!0);let v=F(n,["$$slots","$$events","$$legacy"]);const g=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];q(f,B({name:"zoom-out"},()=>v,{get iconNode(){return g},children:(i,p)=>{var l=G(),c=E(l);Z(c,()=>n.children??X),u(i,l)},$$slots:{default:!0}})),O()}var zt=z('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 mt-1.5 group"><span class="truncate"> </span> <!></a>'),Ct=z('<div class="text-xs text-gray-500 mt-1.5">No production URL</div>'),Dt=z('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-2.5 px-2.5 py-2 bg-gray-800/50 hover:bg-gray-800 rounded text-xs transition-colors group"><div class="w-7 h-7 rounded flex items-center justify-center shrink-0"><!></div> <div class="flex-1 min-w-0 flex items-center gap-3"><span class="text-gray-500 w-14 shrink-0"> </span> <span class="text-gray-200 group-hover:text-white font-medium"> </span></div> <!></a>'),Lt=z('<div class="flex items-center gap-2.5 px-2.5 py-2 bg-gray-800/50 rounded text-xs"><div class="w-7 h-7 rounded flex items-center justify-center shrink-0"><!></div> <div class="flex-1 min-w-0 flex items-center gap-3"><span class="text-gray-500 w-14 shrink-0"> </span> <span class="text-gray-300 font-medium"> </span></div></div>'),It=z('<div class="bg-gray-900 border border-gray-700 rounded-lg overflow-hidden shadow-xl hover:border-gray-600 transition-colors"><div class="px-4 py-3 bg-gray-800/70 border-b border-gray-700"><div class="flex items-center justify-between gap-2"><span class="font-semibold text-white text-sm"> </span> <span class="px-2 py-0.5 rounded text-[10px] font-medium"> </span></div> <!> <div class="text-[10px] text-gray-500 mt-1 font-mono"> </div></div> <div class="p-3 space-y-1.5"></div></div>'),Pt=z('<div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded"></div> <span class="text-xs text-gray-400"> </span></div>'),Ut=z('<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-sm"></div> <span class="text-[10px] text-gray-500"> </span></div>'),At=z(`<div class="h-full flex flex-col bg-gray-950 overflow-hidden"><div class="shrink-0 flex items-center justify-between px-4 py-2 bg-gray-900/80 border-b border-gray-800 backdrop-blur-sm z-10"><div class="flex items-center gap-4"><h1 class="text-lg font-semibold text-white">Infrastructure Map</h1> <span class="text-xs text-gray-500"> </span> <span class="text-xs text-gray-600">|</span> <span class="text-xs text-gray-500">Data: <code class="text-gray-400">lib/config/infrastructure.ts</code></span></div> <div class="flex items-center gap-2"><button class="flex items-center gap-1.5 px-2 py-1 bg-gray-800 hover:bg-gray-700 rounded text-xs text-gray-300 transition-colors"><!> Sort</button> <div class="flex items-center gap-1 ml-2"><button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300"><!></button> <span class="text-xs text-gray-400 w-12 text-center"> </span> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300"><!></button> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 ml-1"><!></button></div></div></div> <div class="shrink-0 px-4 py-1 text-xs text-gray-500 bg-gray-900/50">Scroll to zoom | Drag to pan | Click links to open dashboards</div> <div role="application" tabindex="0"><div class="absolute inset-0 pointer-events-none" style="
				background-image:
					linear-gradient(rgba(55, 65, 81, 0.25) 1px, transparent 1px),
					linear-gradient(90deg, rgba(55, 65, 81, 0.25) 1px, transparent 1px);
				background-size: 40px 40px;
			"></div> <div class="p-8 grid gap-10 relative"></div></div> <div class="shrink-0 px-4 py-2 bg-gray-900/90 border-t border-gray-800 flex items-center gap-6 flex-wrap"><div class="flex items-center gap-3"><span class="text-xs text-gray-500">Identity:</span> <!></div> <div class="flex items-center gap-3"><span class="text-xs text-gray-500">Providers:</span> <!></div></div></div>`);function Ft(f,n){j(n,!0);let v=ee(!0),g=N(()=>e(v)?[...n.data.projects].sort((t,s)=>t.displayName.localeCompare(s.displayName)):[...n.data.projects].sort((t,s)=>s.displayName.localeCompare(t.displayName))),i=ee(1),p,l=ee(!1),c=ee(lt({x:0,y:0,scrollLeft:0,scrollTop:0}));const ae={cloudflare:"#f38020",supabase:"#3ecf8e",flyio:"#7c3aed",firebase:"#ffca28",gcp:"#4285f4",github:"#6e7681",pocketbase:"#b8dbe4",sentry:"#362d59",vercel:"#171717",netlify:"#00c7b7",resend:"#171717",sendgrid:"#1a82e2",mailgun:"#f06b66",digitalocean:"#0080ff"};function Se(t){switch(t){case"hosting":return Ue;case"database":return bt;case"auth":return ht;case"storage":return ft;case"ci":return yt;case"monitoring":return _t;case"dns":return mt;case"email":return xt;default:return Ue}}function me(t){return{hosting:"Host",database:"DB",auth:"Auth",storage:"Storage",ci:"CI/CD",monitoring:"Monitor",dns:"DNS",email:"Email"}[t]||t}const fe={jaslr:"#3b82f6","jvp-ux":"#8b5cf6"};function Te(t){return t.find(h=>h.category==="hosting")?.provider||"unknown"}function He(t){try{return new URL(t).hostname}catch{return t}}function je(t){t.preventDefault();const s=t.deltaY>0?-.1:.1;M(i,Math.max(.25,Math.min(3,e(i)+s)),!0)}function Ge(t){t.target instanceof HTMLAnchorElement||(M(l,!0),M(c,{x:t.clientX,y:t.clientY,scrollLeft:p.scrollLeft,scrollTop:p.scrollTop},!0))}function Ee(t){if(!e(l))return;const s=t.clientX-e(c).x,h=t.clientY-e(c).y;p.scrollLeft=e(c).scrollLeft-s,p.scrollTop=e(c).scrollTop-h}function he(){M(l,!1)}function Oe(){M(i,Math.min(3,e(i)+.25),!0)}function Ve(){M(i,Math.max(.25,e(i)-.25),!0)}function Re(){M(i,1),p&&(p.scrollLeft=0,p.scrollTop=0)}var re=At();ut("hoqwi7",t=>{dt(()=>{ct.title="Infrastructure Map | Orchon"})});var se=r(re),oe=r(se),_e=o(r(oe),2),Ye=r(_e);a(_e),Ce(4),a(oe);var ye=o(oe,2),J=r(ye);J.__click=()=>M(v,!e(v));var Xe=r(J);{var Ze=t=>{$t(t,{class:"w-3.5 h-3.5"})},qe=t=>{wt(t,{class:"w-3.5 h-3.5"})};xe(Xe,t=>{e(v)?t(Ze):t(qe,!1)})}Ce(),a(J);var be=o(J,2),W=r(be);W.__click=Ve;var Be=r(W);Nt(Be,{class:"w-4 h-4"}),a(W);var ne=o(W,2),Fe=r(ne);a(ne);var K=o(ne,2);K.__click=Oe;var Je=r(K);Mt(Je,{class:"w-4 h-4"}),a(K);var ie=o(K,2);ie.__click=Re;var We=r(ie);kt(We,{class:"w-4 h-4"}),a(ie),a(be),a(ye),a(se);var y=o(se,4);let we;y.__mousedown=Ge,y.__mousemove=Ee,y.__mouseup=he;var le=o(r(y),2);te(le,21,()=>e(g),t=>t.id,(t,s)=>{const h=N(()=>fe[e(s).identity]||"#6b7280"),P=N(()=>Te(e(s).services)),U=N(()=>ae[e(P)]||"#6b7280");var x=It(),b=r(x),w=r(b),C=r(w),et=r(C,!0);a(C);var ce=o(C,2),tt=r(ce,!0);a(ce),a(w);var Me=o(w,2);{var at=_=>{var d=zt(),A=r(d),S=r(A,!0);a(A);var Q=o(A,2);Ae(Q,{class:"w-3 h-3 opacity-60 group-hover:opacity-100"}),a(d),L(ve=>{Ie(d,"href",e(s).productionUrl),m(S,ve)},[()=>He(e(s).productionUrl)]),u(_,d)},rt=_=>{var d=Ct();u(_,d)};xe(Me,_=>{e(s).productionUrl?_(at):_(rt,!1)})}var Ne=o(Me,2),st=r(Ne,!0);a(Ne),a(b);var ze=o(b,2);te(ze,23,()=>e(s).services,(_,d)=>_.provider+"-"+_.category+"-"+d,(_,d)=>{const A=N(()=>Se(e(d).category)),S=N(()=>ae[e(d).provider]||"#6b7280");var Q=G(),ve=E(Q);{var ot=T=>{var k=Dt(),$=r(k),pe=r($);Pe(pe,()=>e(A),(Y,it)=>{it(Y,{class:"w-4 h-4",get style(){return`color: ${e(S)??""};`}})}),a($);var H=o($,2),D=r(H),ue=r(D,!0);a(D);var V=o(D,2),ge=r(V,!0);a(V),a(H);var R=o(H,2);Ae(R,{class:"w-3.5 h-3.5 text-gray-600 group-hover:text-gray-400 shrink-0"}),a(k),L(Y=>{Ie(k,"href",e(d).dashboardUrl),I($,`background-color: ${e(S)??""}20;`),m(ue,Y),m(ge,e(d).provider)},[()=>me(e(d).category)]),u(T,k)},nt=T=>{var k=Lt(),$=r(k),pe=r($);Pe(pe,()=>e(A),(R,Y)=>{Y(R,{class:"w-4 h-4",get style(){return`color: ${e(S)??""};`}})}),a($);var H=o($,2),D=r(H),ue=r(D,!0);a(D);var V=o(D,2),ge=r(V,!0);a(V),a(H),a(k),L(R=>{I($,`background-color: ${e(S)??""}20;`),m(ue,R),m(ge,e(d).provider)},[()=>me(e(d).category)]),u(T,k)};xe(ve,T=>{e(d).dashboardUrl?T(ot):T(nt,!1)})}u(_,Q)}),a(ze),a(x),L(()=>{I(x,`border-left: 4px solid ${e(h)??""}; width: 300px;`),m(et,e(s).displayName),I(ce,`background-color: ${e(U)??""}25; color: ${e(U)??""};`),m(tt,e(P)),m(st,e(s).id)}),u(t,x)}),a(le),a(y),gt(y,t=>p=t,()=>p);var $e=o(y,2),de=r($e),Ke=o(r(de),2);te(Ke,17,()=>Object.entries(fe),([t,s])=>t,(t,s)=>{var h=N(()=>De(e(s),2));let P=()=>e(h)[0],U=()=>e(h)[1];var x=Pt(),b=r(x),w=o(b,2),C=r(w,!0);a(w),a(x),L(()=>{I(b,`background-color: ${U()??""};`),m(C,P())}),u(t,x)}),a(de);var ke=o(de,2),Qe=o(r(ke),2);te(Qe,17,()=>Object.entries(ae).slice(0,8),([t,s])=>t,(t,s)=>{var h=N(()=>De(e(s),2));let P=()=>e(h)[0],U=()=>e(h)[1];var x=Ut(),b=r(x),w=o(b,2),C=r(w,!0);a(w),a(x),L(()=>{I(b,`background-color: ${U()??""};`),m(C,P())}),u(t,x)}),a(ke),a($e),a(re),L(t=>{m(Ye,`${e(g).length??""} projects`),m(Fe,`${t??""}%`),we=pt(y,1,"flex-1 overflow-auto relative cursor-grab select-none",null,we,{"cursor-grabbing":e(l)}),I(le,`
				zoom: ${e(i)??""};
				grid-template-columns: repeat(4, 300px);
				width: max-content;
				min-height: 100%;
			`)},[()=>Math.round(e(i)*100)]),Le("wheel",y,je),Le("mouseleave",y,he),u(f,re),O()}vt(["click","mousedown","mousemove","mouseup"]);export{Ft as component};
