import"../chunks/DsnmJJEf.js";import{p as G,k as V,l as B,o as re,c as y,d as H,f as J,i as r,g as e,e as f,j as i,r as a,t as X,u as z,b as N,s as T,n as ae,h as se,$ as ie}from"../chunks/BZ9E3_SD.js";import{s as oe}from"../chunks/w6f9Dn5M.js";import{s as F}from"../chunks/7Z-uf5tq.js";import{i as ne}from"../chunks/B-25t-Xl.js";import{h as le}from"../chunks/BNx1VcPb.js";import{d as de}from"../chunks/C_ntH7U2.js";import{s as l}from"../chunks/DqmgPq9b.js";import{p as h}from"../chunks/DZxOUa6w.js";import{A as ce}from"../chunks/BK4vnddF.js";import{L as ve}from"../chunks/DtPGcbCL.js";import{C as fe}from"../chunks/BGgzA8wX.js";import{S as me}from"../chunks/BdQ0v9Mu.js";import{s as pe,r as ge}from"../chunks/D6GbuAV1.js";import{I as he}from"../chunks/BtPIuOMa.js";import{s as U}from"../chunks/BLtbU3fE.js";import{R as xe}from"../chunks/igsyYmEg.js";import{S as ue}from"../chunks/CGb6VMYq.js";function be(_,c){G(c,!0);let t=ge(c,["$$slots","$$events","$$legacy"]);const d=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]];he(_,pe({name:"map"},()=>t,{get iconNode(){return d},children:(v,w)=>{var g=V(),x=B(g);F(x,()=>c.children??re),y(v,g)},$$slots:{default:!0}})),H()}var ye=J('<nav class="flex flex-col gap-1 py-2"><a href="/"><!> <div class="flex-1 min-w-0"><div>Console</div></div></a> <a href="/projects"><!> <div class="flex-1 min-w-0"><div>Projects</div></div></a> <a href="/deployments"><!> <div class="flex-1 min-w-0"><div>Deployments</div></div></a> <a href="/admin/infra"><!> <div class="flex-1 min-w-0"><div>Infrastructure</div></div></a> <a href="/infrastructure/map"><!> <div class="flex-1 min-w-0"><div>Map</div></div></a></nav>');function _e(_,c){G(c,!0);let t=f(()=>h.url.pathname);var d=ye(),v=r(d),w=r(v);{let n=f(()=>e(t)==="/"?"text-blue-400":"text-gray-500");ce(w,{get class(){return`w-4 h-4 ${e(n)??""} shrink-0`}})}var g=i(w,2),x=r(g);a(g),a(v);var u=i(v,2),I=r(u);{let n=f(()=>e(t)==="/projects"||e(t).startsWith("/projects")?"text-blue-400":"text-gray-500");ve(I,{get class(){return`w-4 h-4 ${e(n)??""} shrink-0`}})}var S=i(I,2),s=r(S);a(S),a(u);var o=i(u,2),m=r(o);{let n=f(()=>e(t)==="/deployments"||e(t).startsWith("/deployments")?"text-blue-400":"text-gray-500");fe(m,{get class(){return`w-3.5 h-3.5 ${e(n)??""} shrink-0`}})}var $=i(m,2),L=r($);a($),a(o);var p=i(o,2),b=r(p);{let n=f(()=>e(t).startsWith("/admin/infra")||e(t).startsWith("/infrastructure")?"text-blue-400":"text-gray-500");me(b,{get class(){return`w-4 h-4 ${e(n)??""} shrink-0`}})}var W=i(b,2),k=r(W);a(W),a(p);var j=i(p,2),C=r(j);{let n=f(()=>e(t)==="/infrastructure/map"?"text-blue-400":"text-gray-500");be(C,{get class(){return`w-3.5 h-3.5 ${e(n)??""} shrink-0`}})}var M=i(C,2),O=r(M);a(M),a(j),a(d),X((n,E,R,A,P,D)=>{l(v,1,`flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${e(t)==="/"?"bg-gray-800 border-l-2 border-blue-500":"hover:bg-gray-800/50 border-l-2 border-transparent"}`),l(x,1,`font-medium text-sm ${e(t)==="/"?"text-white":"text-gray-300"} truncate`),l(u,1,`flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${n??""}`),l(s,1,`font-medium text-sm ${E??""} truncate`),l(o,1,`flex items-center gap-3 pl-8 pr-4 py-2 text-left transition-colors ${R??""}`),l(L,1,`text-sm ${A??""} truncate`),l(p,1,`flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${P??""}`),l(k,1,`font-medium text-sm ${D??""} truncate`),l(j,1,`flex items-center gap-3 pl-8 pr-4 py-2 text-left transition-colors ${e(t)==="/infrastructure/map"?"bg-gray-800/50 border-l-2 border-blue-400":"hover:bg-gray-800/30 border-l-2 border-transparent"}`),l(O,1,`text-sm ${e(t)==="/infrastructure/map"?"text-white":"text-gray-400"} truncate`)},[()=>e(t)==="/projects"||e(t).startsWith("/projects")?"bg-gray-800 border-l-2 border-blue-500":"hover:bg-gray-800/50 border-l-2 border-transparent",()=>e(t)==="/projects"||e(t).startsWith("/projects")?"text-white":"text-gray-300",()=>e(t)==="/deployments"||e(t).startsWith("/deployments")?"bg-gray-800/50 border-l-2 border-blue-400":"hover:bg-gray-800/30 border-l-2 border-transparent",()=>e(t)==="/deployments"||e(t).startsWith("/deployments")?"text-white":"text-gray-400",()=>e(t).startsWith("/admin/infra")||e(t).startsWith("/infrastructure")?"bg-gray-800 border-l-2 border-blue-500":"hover:bg-gray-800/50 border-l-2 border-transparent",()=>e(t).startsWith("/admin/infra")||e(t).startsWith("/infrastructure")?"text-white":"text-gray-300"]),y(_,d),H()}var we=J('<link rel="preconnect" href="https://fonts.googleapis.com"/> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/> <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet"/>',1),$e=J(`<div class="min-h-screen bg-gray-900 text-white flex flex-col"><header class="shrink-0 px-4 py-3 border-b border-gray-800"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><a href="/" class="flex items-center gap-3"><img src="/logo.svg" alt="Orchon logo" class="w-8 h-8 text-gray-200"/> <div><h1 class="text-lg font-semibold text-gray-100" style="font-family: 'Roboto', sans-serif;">Orchon</h1> <p class="text-xs text-gray-500">Infrastructure Observatory</p></div></a></div> <div class="flex items-center gap-4"><div class="relative connection-status"><button class="flex items-center gap-2 text-xs px-2 py-1 rounded hover:bg-gray-800 transition-colors cursor-pointer"><!> <span> </span></button></div> <a href="/admin" class="p-2 -m-2 text-gray-400 hover:text-gray-200 transition-colors" title="Settings"><!></a></div></div></header> <div class="flex-1 flex flex-col lg:flex-row min-h-0"><aside class="hidden lg:flex lg:flex-col w-[12rem] shrink-0 border-r border-gray-800 bg-gray-900"><!></aside> <div class="lg:hidden border-b border-gray-800 bg-gray-900"><div class="flex"><a href="/">Console</a> <a href="/projects">Projects</a> <a href="/deployments">Deploys</a> <a href="/admin/infra">Infra</a></div></div> <main class="flex-1 flex flex-col overflow-hidden min-w-0"><!></main></div></div>`);function Be(_,c){G(c,!0);let t=T(!1),d=T(!1);z(()=>{const s=setInterval(()=>{N(t,U.isConnected,!0)},1e3);return N(t,U.isConnected,!0),()=>clearInterval(s)}),z(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(s=>console.log("[SW] Registered:",s.scope)).catch(s=>console.error("[SW] Registration failed:",s))});function v(s){const o=s.target;e(d)&&!o.closest(".connection-status")&&N(d,!1)}z(()=>{if(e(d))return document.addEventListener("click",v),()=>document.removeEventListener("click",v)});let w=f(()=>h.url.pathname.startsWith("/admin")),g=f(()=>h.url.pathname==="/login");var x=V();le("12qhfyh",s=>{var o=we();ae(4),se(()=>{ie.title="Orchon"}),y(s,o)});var u=B(x);{var I=s=>{var o=V(),m=B(o);F(m,()=>c.children),y(s,o)},S=s=>{var o=$e(),m=r(o),$=r(m),L=i(r($),2),p=r(L),b=r(p);b.__click=()=>N(d,!e(d));var W=r(b);{let q=f(()=>e(t)?"text-green-400":"text-gray-500");xe(W,{get class(){return`w-3 h-3 ${e(q)??""}`}})}var k=i(W,2),j=r(k,!0);a(k),a(b),a(p);var C=i(p,2),M=r(C);ue(M,{class:"w-5 h-5"}),a(C),a(L),a($),a(m);var O=i(m,2),n=r(O),E=r(n);_e(E,{}),a(n);var R=i(n,2),A=r(R),P=r(A),D=i(P,2),K=i(D,2),Y=i(K,2);a(A),a(R);var Q=i(R,2),Z=r(Q);F(Z,()=>c.children),a(Q),a(O),a(o),X((q,ee,te)=>{l(k,1,e(t)?"text-green-400":"text-gray-500"),oe(j,e(t)?"Live":"Offline"),l(P,1,`flex-1 py-2 text-center text-sm ${h.url.pathname==="/"?"text-white border-b-2 border-blue-500":"text-gray-400"}`),l(D,1,`flex-1 py-2 text-center text-sm ${q??""}`),l(K,1,`flex-1 py-2 text-center text-sm ${ee??""}`),l(Y,1,`flex-1 py-2 text-center text-sm ${te??""}`)},[()=>h.url.pathname.startsWith("/projects")?"text-white border-b-2 border-blue-500":"text-gray-400",()=>h.url.pathname.startsWith("/deployments")?"text-white border-b-2 border-blue-500":"text-gray-400",()=>h.url.pathname.startsWith("/admin/infra")?"text-white border-b-2 border-blue-500":"text-gray-400"]),y(s,o)};ne(u,s=>{e(w)||e(g)?s(I):s(S,!1)})}y(_,x),H()}de(["click"]);export{Be as component};
