import"../chunks/DsnmJJEf.js";import{o as Er}from"../chunks/CwC--y6C.js";import{p as qe,c as Re,b as Fe,n as Qe,a as K,d as Le,f as Me,aa as Ct,F as T,A as m,I as O,D as Pe,an as tr,J as Ar,am as ae,ao as Dr,G as _,al as rr,as as nr}from"../chunks/iEcfl4Zz.js";import{s as Xe,d as Nr,a as oe}from"../chunks/4ArvJHEk.js";import{i as Et}from"../chunks/CK54UOYh.js";import{I as et,e as yt,s as At,h as ke}from"../chunks/7rkDPlKJ.js";import{c as ar}from"../chunks/Bu-3zCN-.js";import{h as zr,C as or}from"../chunks/DgAUzZTY.js";import{b as Ir}from"../chunks/CVEYR93t.js";import{s as tt,r as rt}from"../chunks/CMf16_yh.js";import{E as ir}from"../chunks/M1V3mCm3.js";import{M as Or,G as $r,H as Br,S as Zr}from"../chunks/Bu3edill.js";import{A as Pr}from"../chunks/wASKfEvI.js";import{G as qr}from"../chunks/BnRnjDSQ.js";import{D as Rr}from"../chunks/BZTZLBpC.js";function Fr(g,v){qe(v,!0);let s=rt(v,["$$slots","$$events","$$legacy"]);const c=[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 4v16"}],["path",{d:"M15 4h5l-5 6h5"}],["path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}],["path",{d:"M20 18h-5"}]];et(g,tt({name:"arrow-down-z-a"},()=>s,{get iconNode(){return c},children:(o,l)=>{var d=Re(),x=Fe(d);Xe(x,()=>v.children??Qe),K(o,d)},$$slots:{default:!0}})),Le()}function Lr(g,v){qe(v,!0);let s=rt(v,["$$slots","$$events","$$legacy"]);const c=[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M20 8h-5"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}],["path",{d:"M15 14h5l-5 6h5"}]];et(g,tt({name:"arrow-up-a-z"},()=>s,{get iconNode(){return c},children:(o,l)=>{var d=Re(),x=Fe(d);Xe(x,()=>v.children??Qe),K(o,d)},$$slots:{default:!0}})),Le()}function jr(g,v){qe(v,!0);let s=rt(v,["$$slots","$$events","$$legacy"]);const c=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]];et(g,tt({name:"link"},()=>s,{get iconNode(){return c},children:(o,l)=>{var d=Re(),x=Fe(d);Xe(x,()=>v.children??Qe),K(o,d)},$$slots:{default:!0}})),Le()}function Vr(g,v){qe(v,!0);let s=rt(v,["$$slots","$$events","$$legacy"]);const c=[["path",{d:"M15 3h6v6"}],["path",{d:"m21 3-7 7"}],["path",{d:"m3 21 7-7"}],["path",{d:"M9 21H3v-6"}]];et(g,tt({name:"maximize-2"},()=>s,{get iconNode(){return c},children:(o,l)=>{var d=Re(),x=Fe(d);Xe(x,()=>v.children??Qe),K(o,d)},$$slots:{default:!0}})),Le()}function Wr(g,v){qe(v,!0);let s=rt(v,["$$slots","$$events","$$legacy"]);const c=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];et(g,tt({name:"zoom-in"},()=>s,{get iconNode(){return c},children:(o,l)=>{var d=Re(),x=Fe(d);Xe(x,()=>v.children??Qe),K(o,d)},$$slots:{default:!0}})),Le()}function Ur(g,v){qe(v,!0);let s=rt(v,["$$slots","$$events","$$legacy"]);const c=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];et(g,tt({name:"zoom-out"},()=>s,{get iconNode(){return c},children:(o,l)=>{var d=Re(),x=Fe(d);Xe(x,()=>v.children??Qe),K(o,d)},$$slots:{default:!0}})),Le()}function Yr(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var st={exports:{}},sr;function Hr(){if(sr)return st.exports;sr=1,st.exports=g,st.exports.addWheelListener=g,st.exports.removeWheelListener=v;function g(s,c,o){s.addEventListener("wheel",c,o)}function v(s,c,o){s.removeEventListener("wheel",c,o)}return st.exports}var ct={exports:{}},Dt,cr;function Kr(){if(cr)return Dt;cr=1;var g=4,v=.001,s=1e-7,c=10,o=11,l=1/(o-1),d=typeof Float32Array=="function";function x(M,p){return 1-3*p+3*M}function u(M,p){return 3*p-6*M}function A(M){return 3*M}function h(M,p,E){return((x(p,E)*M+u(p,E))*M+A(p))*M}function k(M,p,E){return 3*x(p,E)*M*M+2*u(p,E)*M+A(p)}function q(M,p,E,B,N){var D,Z,ie=0;do Z=p+(E-p)/2,D=h(Z,B,N)-M,D>0?E=Z:p=Z;while(Math.abs(D)>s&&++ie<c);return Z}function L(M,p,E,B){for(var N=0;N<g;++N){var D=k(p,E,B);if(D===0)return p;var Z=h(p,E,B)-M;p-=Z/D}return p}function W(M){return M}return Dt=function(p,E,B,N){if(!(0<=p&&p<=1&&0<=B&&B<=1))throw new Error("bezier x values must be in [0, 1] range");if(p===E&&B===N)return W;for(var D=d?new Float32Array(o):new Array(o),Z=0;Z<o;++Z)D[Z]=h(Z*l,p,B);function ie(y){for(var a=0,b=1,w=o-1;b!==w&&D[b]<=y;++b)a+=l;--b;var j=(y-D[b])/(D[b+1]-D[b]),P=a+j*l,i=k(P,p,B);return i>=v?L(y,P,p,B):i===0?P:q(y,a,a+l,p,B)}return function(a){return a===0?0:a===1?1:h(ie(a),E,N)}},Dt}var lr;function Gr(){if(lr)return ct.exports;lr=1;var g=Kr(),v={ease:g(.25,.1,.25,1),easeIn:g(.42,0,1,1),easeOut:g(0,0,.58,1),easeInOut:g(.42,0,.58,1),linear:g(0,0,1,1)};ct.exports=s,ct.exports.makeAggregateRaf=x,ct.exports.sharedScheduler=x();function s(u,A,h){var k=Object.create(null),q=Object.create(null);h=h||{};var L=typeof h.easing=="function"?h.easing:v[h.easing];L||(h.easing&&console.warn("Unknown easing function in amator: "+h.easing),L=v.ease);var W=typeof h.step=="function"?h.step:c,M=typeof h.done=="function"?h.done:c,p=o(h.scheduler),E=Object.keys(A);E.forEach(function(b){k[b]=u[b],q[b]=A[b]-u[b]});var B=typeof h.duration=="number"?h.duration:400,N=Math.max(1,B*.06),D,Z=0;return D=p.next(y),{cancel:ie};function ie(){p.cancel(D),D=0}function y(){var b=L(Z/N);Z+=1,a(b),Z<=N?(D=p.next(y),W(u)):(D=0,setTimeout(function(){M(u)},0))}function a(b){E.forEach(function(w){u[w]=q[w]*b+k[w]})}}function c(){}function o(u){if(!u){var A=typeof window<"u"&&window.requestAnimationFrame;return A?l():d()}if(typeof u.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof u.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return u}function l(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function d(){return{next:function(u){return setTimeout(u,1e3/60)},cancel:function(u){return clearTimeout(u)}}}function x(){var u=new Set,A=new Set,h=0;return{next:q,cancel:q,clearAll:k};function k(){u.clear(),A.clear(),cancelAnimationFrame(h),h=0}function q(M){A.add(M),L()}function L(){h||(h=requestAnimationFrame(W))}function W(){h=0;var M=A;A=u,u=M,u.forEach(function(p){p()}),u.clear()}}return ct.exports}var Nt,ur;function Jr(){if(ur)return Nt;ur=1;function g(c){s(c);const o=v(c);return c.on=o.on,c.off=o.off,c.fire=o.fire,c}function v(c){let o=Object.create(null);return{on:function(l,d,x){if(typeof d!="function")throw new Error("callback is expected to be a function");let u=o[l];return u||(u=o[l]=[]),u.push({callback:d,ctx:x}),c},off:function(l,d){if(typeof l>"u")return o=Object.create(null),c;if(o[l])if(typeof d!="function")delete o[l];else{const x=o[l];for(let u=0;u<x.length;++u)x[u].callback===d&&x.splice(u,1)}return c},fire:function(l){const d=o[l];if(!d)return c;let x;arguments.length>1&&(x=Array.prototype.slice.call(arguments,1));for(let u=0;u<d.length;++u){const A=d[u];A.callback.apply(A.ctx,x)}return c}}}function s(c){if(!c)throw new Error("Eventify cannot use falsy object as events subject");const o=["on","fire","off"];for(let l=0;l<o.length;++l)if(c.hasOwnProperty(o[l]))throw new Error("Subject cannot be eventified, since it already has property '"+o[l]+"'")}return Nt=g,Nt}var zt,fr;function Qr(){if(fr)return zt;fr=1,zt=g;function g(c,o,l){typeof l!="object"&&(l={});var d=typeof l.minVelocity=="number"?l.minVelocity:5,x=typeof l.amplitude=="number"?l.amplitude:.25,u=typeof l.cancelAnimationFrame=="function"?l.cancelAnimationFrame:v(),A=typeof l.requestAnimationFrame=="function"?l.requestAnimationFrame:s(),h,k,q=342,L,W,M,p,E,B,N,D;return{start:ie,stop:a,cancel:Z};function Z(){u(L),u(D)}function ie(){h=c(),p=N=W=E=0,k=new Date,u(L),u(D),L=A(y)}function y(){var w=Date.now(),j=w-k;k=w;var P=c(),i=P.x-h.x,re=P.y-h.y;h=P;var ge=1e3/(1+j);W=.8*i*ge+.2*W,E=.8*re*ge+.2*E,L=A(y)}function a(){u(L),u(D);var w=c();M=w.x,B=w.y,k=Date.now(),(W<-d||W>d)&&(p=x*W,M+=p),(E<-d||E>d)&&(N=x*E,B+=N),D=A(b)}function b(){var w=Date.now()-k,j=!1,P=0,i=0;p&&(P=-p*Math.exp(-w/q),P>.5||P<-.5?j=!0:P=p=0),N&&(i=-N*Math.exp(-w/q),i>.5||i<-.5?j=!0:i=N=0),j&&(o(M+P,B+i),D=A(b))}}function v(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function s(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(c){return setTimeout(c,16)}}return zt}var It,vr;function Xr(){if(vr)return It;vr=1,It=g;function g(c){if(c)return{capture:s,release:s};var o,l,d,x=!1;return{capture:u,release:A};function u(h){x=!0,l=window.document.onselectstart,d=window.document.ondragstart,window.document.onselectstart=v,o=h,o.ondragstart=v}function A(){x&&(x=!1,window.document.onselectstart=l,o&&(o.ondragstart=d))}}function v(c){return c.stopPropagation(),!1}function s(){}return It}var Ot,dr;function en(){if(dr)return Ot;dr=1,Ot=g;function g(){this.x=0,this.y=0,this.scale=1}return Ot}var bt={exports:{}},mr;function tn(){if(mr)return bt.exports;mr=1,bt.exports=g,bt.exports.canAttach=v;function g(s,c){if(!v(s))throw new Error("svg element is required for svg.panzoom to work");var o=s.ownerSVGElement;if(!o)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");c.disableKeyboardInteraction||o.setAttribute("tabindex",0);var l={getBBox:x,getScreenCTM:u,getOwner:d,applyTransform:h,initTransform:A};return l;function d(){return o}function x(){var k=s.getBBox();return{left:k.x,top:k.y,width:k.width,height:k.height}}function u(){var k=o.getCTM();return k||o.getScreenCTM()}function A(k){var q=s.getCTM();q===null&&(q=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),k.x=q.e,k.y=q.f,k.scale=q.a,o.removeAttributeNS(null,"viewBox")}function h(k){s.setAttribute("transform","matrix("+k.scale+" 0 0 "+k.scale+" "+k.x+" "+k.y+")")}}function v(s){return s&&s.ownerSVGElement&&s.getCTM}return bt.exports}var wt={exports:{}},pr;function rn(){if(pr)return wt.exports;pr=1,wt.exports=g,wt.exports.canAttach=v;function g(s,c){var o=v(s);if(!o)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var l=s.parentElement;s.scrollTop=0,c.disableKeyboardInteraction||l.setAttribute("tabindex",0);var d={getBBox:u,getOwner:x,applyTransform:A};return d;function x(){return l}function u(){return{left:0,top:0,width:s.clientWidth,height:s.clientHeight}}function A(h){s.style.transformOrigin="0 0 0",s.style.transform="matrix("+h.scale+", 0, 0, "+h.scale+", "+h.x+", "+h.y+")"}}function v(s){return s&&s.parentElement&&s.style}return wt.exports}var $t,hr;function nn(){if(hr)return $t;hr=1;var g=Hr(),v=Gr(),s=Jr(),c=Qr(),o=Xr(),l=o(),d=o(!0),x=en(),u=tn(),A=rn(),h=1,k=1.75,q=300,L=200;$t=W;function W(y,a){a=a||{};var b=a.controller;if(b||(u.canAttach(y)?b=u(y,a):A.canAttach(y)&&(b=A(y,a))),!b)throw new Error("Cannot create panzoom for the current type of dom element");var w=b.getOwner(),j={x:0,y:0},P=!1,i=new x;b.initTransform&&b.initTransform(i);var re=typeof a.filterKey=="function"?a.filterKey:E,ge=typeof a.pinchSpeed=="number"?a.pinchSpeed:1,de=a.bounds,V=typeof a.maxZoom=="number"?a.maxZoom:Number.POSITIVE_INFINITY,H=typeof a.minZoom=="number"?a.minZoom:0,U=typeof a.boundsPadding=="number"?a.boundsPadding:.05,G=typeof a.zoomDoubleClickSpeed=="number"?a.zoomDoubleClickSpeed:k,Ce=a.beforeWheel||E,Ee=a.beforeMouseDown||E,xe=typeof a.zoomSpeed=="number"?a.zoomSpeed:h,se=M(a.transformOrigin),Ae=a.enableTextSelection?d:l;B(de),a.autocenter&&mt();var De,je=0,Ne=0,ye=0,Ve=null,lt=new Date,We,ze=!1,f=!1,S,$,le,me,J,R;"smoothScroll"in a&&!a.smoothScroll?R=Z():R=c(ce,xr,a.smoothScroll);var Q,X,be,we=!1;Bt();var _e={dispose:yr,moveBy:Ke,moveTo:te,smoothMoveTo:gr,centerOn:kt,zoomTo:gt,zoomAbs:ne,smoothZoom:ht,smoothZoomAbs:Mr,showRectangle:dt,pause:vt,resume:_t,isPaused:St,getTransform:ee,getMinZoom:F,setMinZoom:Ie,getMaxZoom:ue,setMaxZoom:Ye,getTransformOrigin:nt,setTransformOrigin:Oe,getZoomSpeed:Tt,setZoomSpeed:Se};s(_e);var ut=typeof a.initialX=="number"?a.initialX:i.x,Ue=typeof a.initialY=="number"?a.initialY:i.y,ft=typeof a.initialZoom=="number"?a.initialZoom:i.scale;return(ut!=i.x||Ue!=i.y||ft!=i.scale)&&ne(ut,Ue,ft),_e;function vt(){Zt(),we=!0}function _t(){we&&(Bt(),we=!1)}function St(){return we}function dt(e){var t=w.getBoundingClientRect(),r=pe(t.width,t.height),n=e.right-e.left,C=e.bottom-e.top;if(!Number.isFinite(n)||!Number.isFinite(C))throw new Error("Invalid rectangle");var z=r.x/n,I=r.y/C,Y=Math.min(z,I);i.x=-(e.left+n/2)*Y+r.x/2,i.y=-(e.top+C/2)*Y+r.y/2,i.scale=Y}function pe(e,t){if(b.getScreenCTM){var r=b.getScreenCTM(),n=r.a,C=r.d,z=r.e,I=r.f;j.x=e*n-z,j.y=t*C-I}else j.x=e,j.y=t;return j}function mt(){var e,t,r=0,n=0,C=ve();if(C)r=C.left,n=C.top,e=C.right-C.left,t=C.bottom-C.top;else{var z=w.getBoundingClientRect();e=z.width,t=z.height}var I=b.getBBox();if(!(I.width===0||I.height===0)){var Y=t/I.height,Je=e/I.width,Ze=Math.min(Je,Y);i.x=-(I.left+I.width/2)*Ze+e/2+r,i.y=-(I.top+I.height/2)*Ze+t/2+n,i.scale=Ze}}function ee(){return i}function F(){return H}function Ie(e){H=e}function ue(){return V}function Ye(e){V=e}function nt(){return se}function Oe(e){se=M(e)}function Tt(){return xe}function Se(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");xe=e}function ce(){return{x:i.x,y:i.y}}function te(e,t){i.x=e,i.y=t,fe(),Ge("pan"),Be()}function He(e,t){te(i.x+e,i.y+t)}function fe(){var e=ve();if(e){var t=!1,r=at(),n=e.left-r.right;return n>0&&(i.x+=n,t=!0),n=e.right-r.left,n<0&&(i.x+=n,t=!0),n=e.top-r.bottom,n>0&&(i.y+=n,t=!0),n=e.bottom-r.top,n<0&&(i.y+=n,t=!0),t}}function ve(){if(de){if(typeof de=="boolean"){var e=w.getBoundingClientRect(),t=e.width,r=e.height;return{left:t*U,top:r*U,right:t*(1-U),bottom:r*(1-U)}}return de}}function at(){var e=b.getBBox(),t=$e(e.left,e.top);return{left:t.x,top:t.y,right:e.width*i.scale+t.x,bottom:e.height*i.scale+t.y}}function $e(e,t){return{x:e*i.scale+i.x,y:t*i.scale+i.y}}function Be(){P=!0,De=window.requestAnimationFrame(br)}function Te(e,t,r){if(D(e)||D(t)||D(r))throw new Error("zoom requires valid numbers");var n=i.scale*r;if(n<H){if(i.scale===H)return;r=H/i.scale}if(n>V){if(i.scale===V)return;r=V/i.scale}var C=pe(e,t);if(i.x=C.x-r*(C.x-i.x),i.y=C.y-r*(C.y-i.y),de&&U===1&&H===1)i.scale*=r,fe();else{var z=fe();z||(i.scale*=r)}Ge("zoom"),Be()}function ne(e,t,r){var n=r/i.scale;Te(e,t,n)}function kt(e){var t=e.ownerSVGElement;if(!t)throw new Error("ui element is required to be within the scene");var r=e.getBoundingClientRect(),n=r.left+r.width/2,C=r.top+r.height/2,z=t.getBoundingClientRect(),I=z.width/2-n,Y=z.height/2-C;Ke(I,Y,!0)}function gr(e,t){Ke(e-i.x,t-i.y,!0)}function Ke(e,t,r){if(!r)return He(e,t);Q&&Q.cancel();var n={x:0,y:0},C={x:e,y:t},z=0,I=0;Q=v(n,C,{step:function(Y){He(Y.x-z,Y.y-I),z=Y.x,I=Y.y}})}function xr(e,t){xt(),te(e,t)}function yr(){Zt()}function Bt(){w.addEventListener("mousedown",Wt,{passive:!1}),w.addEventListener("dblclick",Vt,{passive:!1}),w.addEventListener("touchstart",qt,{passive:!1}),w.addEventListener("keydown",Pt,{passive:!1}),g.addWheelListener(w,Gt,{passive:!1}),Be()}function Zt(){g.removeWheelListener(w,Gt),w.removeEventListener("mousedown",Wt),w.removeEventListener("keydown",Pt),w.removeEventListener("dblclick",Vt),w.removeEventListener("touchstart",qt),De&&(window.cancelAnimationFrame(De),De=0),R.cancel(),Ht(),Kt(),Ae.release(),Mt()}function br(){P&&wr()}function wr(){P=!1,b.applyTransform(i),Ge("transform"),De=0}function Pt(e){var t=0,r=0,n=0;if(e.keyCode===38?r=1:e.keyCode===40?r=-1:e.keyCode===37?t=1:e.keyCode===39?t=-1:e.keyCode===189||e.keyCode===109?n=1:(e.keyCode===187||e.keyCode===107)&&(n=-1),!re(e,t,r,n)){if(t||r){e.preventDefault(),e.stopPropagation();var C=w.getBoundingClientRect(),z=Math.min(C.width,C.height),I=.05,Y=z*I*t,Je=z*I*r;Ke(Y,Je)}if(n){var Ze=Jt(n*100),z=se?it():_r();gt(z.x,z.y,Ze)}}}function _r(){var e=w.getBoundingClientRect();return{x:e.width/2,y:e.height/2}}function qt(e){if(Sr(e),ot(),e.touches.length===1)return kr(e,e.touches[0]);e.touches.length===2&&(J=jt(e.touches[0],e.touches[1]),be=!0,Rt())}function Sr(e){a.onTouch&&!a.onTouch(e)||(e.stopPropagation(),e.preventDefault())}function Tr(e){ot(),!(a.onDoubleClick&&!a.onDoubleClick(e))&&(e.preventDefault(),e.stopPropagation())}function kr(e){Ne=new Date;var t=e.touches[0],r=he(t);We=r;var n=pe(r.x,r.y);S=n.x,$=n.y,le=S,me=$,R.cancel(),Rt()}function Rt(){ze||(ze=!0,document.addEventListener("touchmove",Ft),document.addEventListener("touchend",pt),document.addEventListener("touchcancel",pt))}function Ft(e){if(e.touches.length===1){e.stopPropagation();var t=e.touches[0],r=he(t),n=pe(r.x,r.y),C=n.x-S,z=n.y-$;C!==0&&z!==0&&Qt(),S=n.x,$=n.y,Ke(C,z)}else if(e.touches.length===2){be=!0;var I=e.touches[0],Y=e.touches[1],Je=jt(I,Y),Ze=1+(Je/J-1)*ge,Xt=he(I),er=he(Y);if(S=(Xt.x+er.x)/2,$=(Xt.y+er.y)/2,se){var r=it();S=r.x,$=r.y}gt(S,$,Ze),J=Je,e.stopPropagation(),e.preventDefault()}}function ot(){ye&&(clearTimeout(ye),ye=0)}function Lt(e){if(a.onClick){ot();var t=S-le,r=$-me,n=Math.sqrt(t*t+r*r);n>5||(ye=setTimeout(function(){ye=0,a.onClick(e)},q))}}function pt(e){if(ot(),e.touches.length>0){var t=he(e.touches[0]),r=pe(t.x,t.y);S=r.x,$=r.y}else{var n=new Date;if(n-je<q)if(se){var t=it();ht(t.x,t.y,G)}else ht(We.x,We.y,G);else n-Ne<L&&Lt(e);je=n,Mt(),Kt()}}function jt(e,t){var r=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(r*r+n*n)}function Vt(e){Tr(e);var t=he(e);se&&(t=it()),ht(t.x,t.y,G)}function Wt(e){if(ot(),!Ee(e)){if(Ve=e,lt=new Date,ze)return e.stopPropagation(),!1;var t=e.button===1&&window.event!==null||e.button===0;if(t){R.cancel();var r=he(e),n=pe(r.x,r.y);return le=S=n.x,me=$=n.y,document.addEventListener("mousemove",Ut),document.addEventListener("mouseup",Yt),Ae.capture(e.target||e.srcElement),!1}}}function Ut(e){if(!ze){Qt();var t=he(e),r=pe(t.x,t.y),n=r.x-S,C=r.y-$;S=r.x,$=r.y,Ke(n,C)}}function Yt(){var e=new Date;e-lt<L&&Lt(Ve),Ae.release(),Mt(),Ht()}function Ht(){document.removeEventListener("mousemove",Ut),document.removeEventListener("mouseup",Yt),f=!1}function Kt(){document.removeEventListener("touchmove",Ft),document.removeEventListener("touchend",pt),document.removeEventListener("touchcancel",pt),f=!1,be=!1,ze=!1}function Gt(e){if(!Ce(e)){R.cancel();var t=e.deltaY;e.deltaMode>0&&(t*=100);var r=Jt(t);if(r!==1){var n=se?it():he(e);gt(n.x,n.y,r),e.preventDefault()}}}function he(e){var t,r,n=w.getBoundingClientRect();return t=e.clientX-n.left,r=e.clientY-n.top,{x:t,y:r}}function ht(e,t,r){var n=i.scale,C={scale:n},z={scale:r*n};R.cancel(),xt(),X=v(C,z,{step:function(I){ne(e,t,I.scale)},done:Cr})}function Mr(e,t,r){var n=i.scale,C={scale:n},z={scale:r};R.cancel(),xt(),X=v(C,z,{step:function(I){ne(e,t,I.scale)}})}function it(){var e=w.getBoundingClientRect();return{x:e.width*se.x,y:e.height*se.y}}function gt(e,t,r){return R.cancel(),xt(),Te(e,t,r)}function xt(){X&&(X.cancel(),X=null)}function Jt(e){var t=Math.sign(e),r=Math.min(.25,Math.abs(xe*e/128));return 1-t*r}function Qt(){f||(Ge("panstart"),f=!0,R.start())}function Mt(){f&&(be||R.stop(),Ge("panend"))}function Cr(){Ge("zoomend")}function Ge(e){_e.fire(e,_e)}}function M(y){if(y){if(typeof y=="object")return(!N(y.x)||!N(y.y))&&p(y),y;p()}}function p(y){throw console.error(y),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function E(){}function B(y){var a=typeof y;if(!(a==="undefined"||a==="boolean")){var b=N(y.left)&&N(y.top)&&N(y.bottom)&&N(y.right);if(!b)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function N(y){return Number.isFinite(y)}function D(y){return Number.isNaN?Number.isNaN(y):y!==y}function Z(){return{start:E,stop:E,cancel:E}}function ie(){if(typeof document>"u")return;var y=document.getElementsByTagName("script");if(!y)return;for(var a,b=0;b<y.length;++b){var w=y[b];if(w.src&&w.src.match(/\bpanzoom(\.min)?\.js/)){a=w;break}}if(!a)return;var j=a.getAttribute("query");if(!j)return;var P=a.getAttribute("name")||"pz",i=Date.now();re();function re(){var V=document.querySelector(j);if(!V){var H=Date.now(),U=H-i;if(U<2e3){setTimeout(re,100);return}console.error("Cannot find the panzoom element",P);return}var G=ge(a);console.log(G),window[P]=W(V,G)}function ge(V){for(var H=V.attributes,U={},G=0;G<H.length;++G){var Ce=H[G],Ee=de(Ce);Ee&&(U[Ee.name]=Ee.value)}return U}function de(V){if(V.name){var H=V.name[0]==="p"&&V.name[1]==="z"&&V.name[2]==="-";if(H){var U=V.name.substr(3),G=JSON.parse(V.value);return{name:U,value:G}}}}}return ie(),$t}var an=nn();const on=Yr(an);var sn=Me('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 mt-1 group"><!> <span class="truncate"> </span> <!></a>'),cn=Me('<div class="text-xs text-gray-500 mt-1">No production URL</div>'),ln=Me('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 px-2 py-1.5 bg-gray-800/40 hover:bg-gray-800 rounded text-xs transition-colors group"><div class="w-6 h-6 rounded flex items-center justify-center shrink-0"><!></div> <div class="flex-1 min-w-0 flex items-center gap-2"><span class="text-gray-500 w-12 shrink-0"> </span> <span class="text-gray-200 group-hover:text-white font-medium"> </span></div> <!></a>'),un=Me('<div class="flex items-center gap-2 px-2 py-1.5 bg-gray-800/40 rounded text-xs"><div class="w-6 h-6 rounded flex items-center justify-center shrink-0"><!></div> <div class="flex-1 min-w-0 flex items-center gap-2"><span class="text-gray-500 w-12 shrink-0"> </span> <span class="text-gray-300 font-medium"> </span></div></div>'),fn=Me('<div class="absolute select-none"><div class="bg-gray-900 border border-gray-700 rounded-lg overflow-hidden shadow-xl hover:border-gray-500 transition-colors"><div class="px-3 py-2.5 bg-gray-800/70 border-b border-gray-700"><div class="flex items-center justify-between gap-2"><span class="font-semibold text-white text-sm"> </span> <div class="px-1.5 py-0.5 rounded text-[10px] font-medium"> </div></div> <!> <div class="text-[10px] text-gray-500 mt-1 font-mono"> </div></div> <div class="p-2 space-y-1"></div></div></div>'),vn=Me('<div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded"></div> <span class="text-xs text-gray-400"> </span></div>'),dn=Me('<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-sm"></div> <span class="text-[10px] text-gray-500"> </span></div>'),mn=Me(`<div class="h-full flex flex-col bg-gray-950 overflow-hidden"><div class="shrink-0 flex items-center justify-between px-4 py-2 bg-gray-900/80 border-b border-gray-800 backdrop-blur-sm z-10"><div class="flex items-center gap-4"><h1 class="text-lg font-semibold text-white">Infrastructure Map</h1> <span class="text-xs text-gray-500"> </span> <span class="text-xs text-gray-600">|</span> <span class="text-xs text-gray-500">Data source: <code class="text-gray-400">lib/config/infrastructure.ts</code></span></div> <div class="flex items-center gap-2"><button class="flex items-center gap-1.5 px-2 py-1 bg-gray-800 hover:bg-gray-700 rounded text-xs text-gray-300 transition-colors"><!> Sort</button> <div class="flex items-center gap-1 ml-2"><button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors" title="Zoom out"><!></button> <span class="text-xs text-gray-400 w-12 text-center"> </span> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors" title="Zoom in"><!></button> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors ml-1" title="Reset view"><!></button></div></div></div> <div class="shrink-0 px-4 py-1 text-xs text-gray-500 bg-gray-900/50">Ctrl + scroll to zoom | Drag to pan | Click service badges to open dashboards</div> <div class="flex-1 overflow-hidden relative bg-gray-950"><div class="absolute inset-0 pointer-events-none" style="
				background-image:
					linear-gradient(rgba(55, 65, 81, 0.2) 1px, transparent 1px),
					linear-gradient(90deg, rgba(55, 65, 81, 0.2) 1px, transparent 1px);
				background-size: 40px 40px;
			"></div> <div class="absolute origin-top-left cursor-grab active:cursor-grabbing"></div></div> <div class="shrink-0 px-4 py-2 bg-gray-900/90 border-t border-gray-800 flex items-center gap-6 flex-wrap"><div class="flex items-center gap-3"><span class="text-xs text-gray-500">Identity:</span> <!></div> <div class="flex items-center gap-3"><span class="text-xs text-gray-500">Providers:</span> <!></div></div></div>`);function Dn(g,v){qe(v,!0);let s=tr(!0),c=ae(()=>m(s)?[...v.data.projects].sort((f,S)=>f.displayName.localeCompare(S.displayName)):[...v.data.projects].sort((f,S)=>S.displayName.localeCompare(f.displayName))),o,l=null,d=tr(1);const x=4,u=320,A=380,h=50,k={cloudflare:"#f38020",supabase:"#3ecf8e",flyio:"#7c3aed",firebase:"#ffca28",gcp:"#4285f4",github:"#6e7681",pocketbase:"#b8dbe4",sentry:"#362d59",vercel:"#000000",netlify:"#00c7b7",resend:"#000000",sendgrid:"#1a82e2",mailgun:"#f06b66",digitalocean:"#0080ff"};function q(f){switch(f){case"hosting":return or;case"database":return Rr;case"auth":return Zr;case"storage":return Br;case"ci":return qr;case"monitoring":return Pr;case"dns":return $r;case"email":return Or;default:return or}}function L(f){return{hosting:"Host",database:"DB",auth:"Auth",storage:"Storage",ci:"CI/CD",monitoring:"Monitor",dns:"DNS",email:"Email"}[f]||f}const W={jaslr:"#3b82f6","jvp-ux":"#8b5cf6"};function M(f){return f.find($=>$.category==="hosting")?.provider||"unknown"}Er(()=>{if(o)return l=on(o,{maxZoom:4,minZoom:.25,smoothScroll:!1,zoomDoubleClickSpeed:1,filterKey:()=>!0,beforeWheel:f=>!f.ctrlKey,beforeMouseDown:f=>{const S=f.target;return S.tagName==="A"||S.closest("a")!==null}}),l.on("zoom",f=>{Ct(d,f.getTransform().scale,!0)}),()=>{l?.dispose()}});function p(){l?.smoothZoom(0,0,1.3)}function E(){l?.smoothZoom(0,0,.7)}function B(){l?.moveTo(40,40),l?.zoomAbs(0,0,1),Ct(d,1)}let N=ae(()=>Math.ceil(m(c).length/x)),D=ae(()=>x*u+(x-1)*h+100),Z=ae(()=>m(N)*A+(m(N)-1)*h+100);function ie(f){const S=f%x,$=Math.floor(f/x);return{x:50+S*(u+h),y:50+$*(A+h)}}function y(f){try{return new URL(f).hostname}catch{return f}}var a=mn();zr("hoqwi7",f=>{Ar(()=>{Dr.title="Infrastructure Map | Orchon"})});var b=T(a),w=T(b),j=O(T(w),2),P=T(j);_(j),rr(4),_(w);var i=O(w,2),re=T(i);re.__click=()=>Ct(s,!m(s));var ge=T(re);{var de=f=>{Lr(f,{class:"w-3.5 h-3.5"})},V=f=>{Fr(f,{class:"w-3.5 h-3.5"})};Et(ge,f=>{m(s)?f(de):f(V,!1)})}rr(),_(re);var H=O(re,2),U=T(H);U.__click=E;var G=T(U);Ur(G,{class:"w-4 h-4"}),_(U);var Ce=O(U,2),Ee=T(Ce);_(Ce);var xe=O(Ce,2);xe.__click=p;var se=T(xe);Wr(se,{class:"w-4 h-4"}),_(xe);var Ae=O(xe,2);Ae.__click=B;var De=T(Ae);Vr(De,{class:"w-4 h-4"}),_(Ae),_(H),_(i),_(b);var je=O(b,4),Ne=O(T(je),2);yt(Ne,23,()=>m(c),f=>f.id,(f,S,$)=>{const le=ae(()=>ie(m($))),me=ae(()=>W[m(S).identity]||"#6b7280"),J=ae(()=>M(m(S).services)),R=ae(()=>k[m(J)]||"#6b7280");var Q=fn(),X=T(Q),be=T(X),we=T(be),_e=T(we),ut=T(_e,!0);_(_e);var Ue=O(_e,2),ft=T(Ue,!0);_(Ue),_(we);var vt=O(we,2);{var _t=ee=>{var F=sn();F.__click=Oe=>Oe.stopPropagation();var Ie=T(F);jr(Ie,{class:"w-3 h-3"});var ue=O(Ie,2),Ye=T(ue,!0);_(ue);var nt=O(ue,2);ir(nt,{class:"w-2.5 h-2.5 opacity-0 group-hover:opacity-100 transition-opacity"}),_(F),Pe(Oe=>{At(F,"href",m(S).productionUrl),oe(Ye,Oe)},[()=>y(m(S).productionUrl)]),K(ee,F)},St=ee=>{var F=cn();K(ee,F)};Et(vt,ee=>{m(S).productionUrl?ee(_t):ee(St,!1)})}var dt=O(vt,2),pe=T(dt,!0);_(dt),_(be);var mt=O(be,2);yt(mt,23,()=>m(S).services,(ee,F)=>ee.provider+"-"+ee.category+"-"+F,(ee,F)=>{const Ie=ae(()=>q(m(F).category)),ue=ae(()=>k[m(F).provider]||"#6b7280");var Ye=Re(),nt=Fe(Ye);{var Oe=Se=>{var ce=ln();ce.__click=ne=>ne.stopPropagation();var te=T(ce),He=T(te);ar(He,()=>m(Ie),(ne,kt)=>{kt(ne,{class:"w-3.5 h-3.5",get style(){return`color: ${m(ue)??""};`}})}),_(te);var fe=O(te,2),ve=T(fe),at=T(ve,!0);_(ve);var $e=O(ve,2),Be=T($e,!0);_($e),_(fe);var Te=O(fe,2);ir(Te,{class:"w-3 h-3 text-gray-600 group-hover:text-gray-400 shrink-0"}),_(ce),Pe(ne=>{At(ce,"href",m(F).dashboardUrl),ke(te,`background-color: ${m(ue)??""}20;`),oe(at,ne),oe(Be,m(F).provider)},[()=>L(m(F).category)]),K(Se,ce)},Tt=Se=>{var ce=un(),te=T(ce),He=T(te);ar(He,()=>m(Ie),(Te,ne)=>{ne(Te,{class:"w-3.5 h-3.5",get style(){return`color: ${m(ue)??""};`}})}),_(te);var fe=O(te,2),ve=T(fe),at=T(ve,!0);_(ve);var $e=O(ve,2),Be=T($e,!0);_($e),_(fe),_(ce),Pe(Te=>{ke(te,`background-color: ${m(ue)??""}20;`),oe(at,Te),oe(Be,m(F).provider)},[()=>L(m(F).category)]),K(Se,ce)};Et(nt,Se=>{m(F).dashboardUrl?Se(Oe):Se(Tt,!1)})}K(ee,Ye)}),_(mt),_(X),_(Q),Pe(()=>{ke(Q,`
						left: ${m(le).x??""}px;
						top: ${m(le).y??""}px;
						width: 320px;
						transform: translateZ(0);
					`),ke(X,`border-left: 4px solid ${m(me)??""};`),oe(ut,m(S).displayName),ke(Ue,`background-color: ${m(R)??""}30; color: ${m(R)??""};`),oe(ft,m(J)),oe(pe,m(S).id)}),K(f,Q)}),_(Ne),Ir(Ne,f=>o=f,()=>o),_(je);var ye=O(je,2),Ve=T(ye),lt=O(T(Ve),2);yt(lt,17,()=>Object.entries(W),([f,S])=>f,(f,S)=>{var $=ae(()=>nr(m(S),2));let le=()=>m($)[0],me=()=>m($)[1];var J=vn(),R=T(J),Q=O(R,2),X=T(Q,!0);_(Q),_(J),Pe(()=>{ke(R,`background-color: ${me()??""};`),oe(X,le())}),K(f,J)}),_(Ve);var We=O(Ve,2),ze=O(T(We),2);yt(ze,17,()=>Object.entries(k).slice(0,8),([f,S])=>f,(f,S)=>{var $=ae(()=>nr(m(S),2));let le=()=>m($)[0],me=()=>m($)[1];var J=dn(),R=T(J),Q=O(R,2),X=T(Q,!0);_(Q),_(J),Pe(()=>{ke(R,`background-color: ${me()??""};`),oe(X,le())}),K(f,J)}),_(We),_(ye),_(a),Pe(f=>{oe(P,`${m(c).length??""} projects`),At(re,"title",m(s)?"Sort Z-A":"Sort A-Z"),oe(Ee,`${f??""}%`),ke(Ne,`
				width: ${m(D)??""}px;
				height: ${m(Z)??""}px;
				transform-origin: 0 0;
				will-change: transform;
				backface-visibility: hidden;
			`)},[()=>Math.round(m(d)*100)]),K(g,a),Le()}Nr(["click"]);export{Dn as component};
