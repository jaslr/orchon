const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/C27XmNSZ.js","../chunks/BapAUJpM.js"])))=>i.map(i=>d[i]);
import{_ as wt}from"../chunks/BapAUJpM.js";import"../chunks/DsnmJJEf.js";import{o as qt,a as Kt}from"../chunks/BoMp02Tq.js";import{p as k,c as R,b as A,n as G,a as C,d as z,G as Qt,f as dt,ac as D,O as d,K as v,Q as g,N as lt,ao as Ct,m as Jt,an as ct,ap as Xt,P as x,am as $t,av as St}from"../chunks/BSOyUNbi.js";import{s as E,d as It,a as Z}from"../chunks/B-w-zG1D.js";import{i as te}from"../chunks/D9u8SmGH.js";import{I as L,e as Mt,s as ee,h as kt}from"../chunks/CWULbE_g.js";import{h as ae}from"../chunks/D3DGhv5e.js";import{b as oe}from"../chunks/QzPuRVhz.js";import{s as P,r as B}from"../chunks/Bz1uhfmE.js";function re(m,s){k(s,!0);let f=B(s,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"m3 16 4 4 4-4"}],["path",{d:"M7 4v16"}],["path",{d:"M15 4h5l-5 6h5"}],["path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}],["path",{d:"M20 18h-5"}]];L(m,P({name:"arrow-down-z-a"},()=>f,{get iconNode(){return h},children:(p,c)=>{var e=R(),u=A(e);E(u,()=>s.children??G),C(p,e)},$$slots:{default:!0}})),z()}function ne(m,s){k(s,!0);let f=B(s,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M20 8h-5"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}],["path",{d:"M15 14h5l-5 6h5"}]];L(m,P({name:"arrow-up-a-z"},()=>f,{get iconNode(){return h},children:(p,c)=>{var e=R(),u=A(e);E(u,()=>s.children??G),C(p,e)},$$slots:{default:!0}})),z()}function se(m,s){k(s,!0);let f=B(s,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M15 3h6v6"}],["path",{d:"m21 3-7 7"}],["path",{d:"m3 21 7-7"}],["path",{d:"M9 21H3v-6"}]];L(m,P({name:"maximize-2"},()=>f,{get iconNode(){return h},children:(p,c)=>{var e=R(),u=A(e);E(u,()=>s.children??G),C(p,e)},$$slots:{default:!0}})),z()}function ie(m,s){k(s,!0);let f=B(s,["$$slots","$$events","$$legacy"]);const h=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];L(m,P({name:"zoom-in"},()=>f,{get iconNode(){return h},children:(p,c)=>{var e=R(),u=A(e);E(u,()=>s.children??G),C(p,e)},$$slots:{default:!0}})),z()}function le(m,s){k(s,!0);let f=B(s,["$$slots","$$events","$$legacy"]);const h=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];L(m,P({name:"zoom-out"},()=>f,{get iconNode(){return h},children:(p,c)=>{var e=R(),u=A(e);E(u,()=>s.children??G),C(p,e)},$$slots:{default:!0}})),z()}var ce=dt('<div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded"></div> <span class="text-xs text-gray-400"> </span></div>'),de=dt('<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-sm"></div> <span class="text-[10px] text-gray-500"> </span></div>'),xe=dt('<div class="h-full flex flex-col bg-gray-950 overflow-hidden"><div class="shrink-0 flex items-center justify-between px-4 py-2 bg-gray-900/80 border-b border-gray-800 backdrop-blur-sm z-10"><div class="flex items-center gap-4"><h1 class="text-lg font-semibold text-white">Infrastructure Map</h1> <span class="text-xs px-1.5 py-0.5 bg-green-900/50 text-green-400 rounded">WebGL</span> <span class="text-xs text-gray-500"> </span> <span class="text-xs text-gray-600">|</span> <span class="text-xs text-gray-500">Data: <code class="text-gray-400">lib/config/infrastructure.ts</code></span></div> <div class="flex items-center gap-2"><button class="flex items-center gap-1.5 px-2 py-1 bg-gray-800 hover:bg-gray-700 rounded text-xs text-gray-300 transition-colors"><!> Sort</button> <div class="flex items-center gap-1 ml-2"><button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors" title="Zoom out"><!></button> <span class="text-xs text-gray-400 w-12 text-center"> </span> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors" title="Zoom in"><!></button> <button class="p-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors ml-1" title="Reset view"><!></button></div></div></div> <div class="shrink-0 px-4 py-1 text-xs text-gray-500 bg-gray-900/50">Scroll to zoom | Drag to pan | Click links to open dashboards</div> <div class="flex-1 overflow-hidden relative"></div> <div class="shrink-0 px-4 py-2 bg-gray-900/90 border-t border-gray-800 flex items-center gap-6 flex-wrap"><div class="flex items-center gap-3"><span class="text-xs text-gray-500">Identity:</span> <!></div> <div class="flex items-center gap-3"><span class="text-xs text-gray-500">Providers:</span> <!></div></div></div>');function we(m,s){k(s,!0);let f=Ct(!0),h=ct(()=>v(f)?[...s.data.projects].sort((t,a)=>t.displayName.localeCompare(a.displayName)):[...s.data.projects].sort((t,a)=>a.displayName.localeCompare(t.displayName))),p,c=null,e=null,u=Ct(1);const xt=4,b=300,T=340,ft=40,pt=50,V={cloudflare:15958048,supabase:4116366,flyio:8141549,firebase:16763432,gcp:4359668,github:7239297,pocketbase:12114916,sentry:3550553,vercel:0,netlify:51127,resend:0,sendgrid:1737442,mailgun:15756134,digitalocean:33023},ut={jaslr:3900150,"jvp-ux":9133302};function zt(t){return{hosting:"Host",database:"DB",auth:"Auth",storage:"Store",ci:"CI/CD",monitoring:"Monitor",dns:"DNS",email:"Email"}[t]||t}function Tt(t){return t.find(n=>n.category==="hosting")?.provider||"unknown"}function Nt(t){try{return new URL(t).hostname}catch{return t}}function Dt(t){const a=t%xt,n=Math.floor(t/xt);return{x:pt+a*(b+ft),y:pt+n*(T+ft)}}let Y=!1,F={x:0,y:0};qt(async()=>{if(!p)return;const t=await wt(()=>import("../chunks/C27XmNSZ.js"),__vite__mapDeps([0,1]),import.meta.url);c=new t.Application,await c.init({resizeTo:p,backgroundColor:198418,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),p.appendChild(c.canvas),e=new t.Container,e.x=20,e.y=20,c.stage.addChild(e);const a=new t.Graphics,n=40,i=3e3,l=3e3;a.setStrokeStyle({width:.5,color:3621201,alpha:.3});for(let o=0;o<=i;o+=n)a.moveTo(o,0),a.lineTo(o,l);for(let o=0;o<=l;o+=n)a.moveTo(0,o),a.lineTo(i,o);a.stroke(),e.addChild(a),vt(t),Rt()});function vt(t){if(e){for(;e.children.length>1;)e.removeChildAt(1);v(h).forEach((a,n)=>{const i=Dt(n),l=ut[a.identity]||7041664,o=Tt(a.services),_=V[o]||7041664,r=new t.Container;r.x=i.x,r.y=i.y;const $=new t.Graphics;$.roundRect(4,4,b,T,8),$.fill({color:0,alpha:.3}),r.addChild($);const w=new t.Graphics;w.roundRect(0,0,b,T,8),w.fill(1120295),w.stroke({width:1,color:3621201}),r.addChild(w);const X=new t.Graphics;X.roundRect(0,0,4,T,2),X.fill(l),r.addChild(X);const I=new t.Graphics;I.roundRect(4,0,b-4,70,8),I.fill(2042167),r.addChild(I);const tt=new t.Text({text:a.displayName,style:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:14,fontWeight:"600",fill:16777215}});tt.x=16,tt.y=10,r.addChild(tt);const et=new t.Graphics;et.roundRect(b-70,8,58,20,4),et.fill({color:_,alpha:.2}),r.addChild(et);const H=new t.Text({text:o,style:{fontFamily:"system-ui, sans-serif",fontSize:10,fontWeight:"500",fill:_}});if(H.x=b-41-H.width/2,H.y=12,r.addChild(H),a.productionUrl){const y=new t.Text({text:Nt(a.productionUrl),style:{fontFamily:"system-ui, sans-serif",fontSize:11,fill:6333946}});y.x=16,y.y=32,y.eventMode="static",y.cursor="pointer",y.on("pointerdown",ot=>{ot.stopPropagation(),window.open(a.productionUrl,"_blank","noopener,noreferrer")}),r.addChild(y)}const at=new t.Text({text:a.id,style:{fontFamily:"ui-monospace, monospace",fontSize:10,fill:7041664}});at.x=16,at.y=50,r.addChild(at),a.services.forEach((y,ot)=>{const S=80+ot*28;if(S+28>T-10)return;const Wt=V[y.provider]||7041664,rt=new t.Graphics;rt.roundRect(8,S,b-16,24,4),rt.fill({color:2042167,alpha:.5}),r.addChild(rt);const nt=new t.Graphics;nt.circle(22,S+12,10),nt.fill({color:Wt,alpha:.15}),r.addChild(nt);const st=new t.Text({text:zt(y.category),style:{fontFamily:"system-ui, sans-serif",fontSize:10,fill:10265519}});st.x=40,st.y=S+6,r.addChild(st);const M=new t.Text({text:y.provider,style:{fontFamily:"system-ui, sans-serif",fontSize:11,fontWeight:"500",fill:y.dashboardUrl?15067115:13751771}});if(M.x=95,M.y=S+5,y.dashboardUrl){M.eventMode="static",M.cursor="pointer",M.on("pointerdown",jt=>{jt.stopPropagation(),window.open(y.dashboardUrl,"_blank","noopener,noreferrer")});const it=new t.Text({text:"â†—",style:{fontFamily:"system-ui, sans-serif",fontSize:10,fill:7041664}});it.x=b-24,it.y=S+6,r.addChild(it)}r.addChild(M)}),e.addChild(r)})}}function Rt(){if(!c||!e)return;const t=c.canvas;t.addEventListener("wheel",a=>{if(a.preventDefault(),!e)return;const n=a.deltaY>0?.9:1.1,i=Math.max(.25,Math.min(4,e.scale.x*n)),l=t.getBoundingClientRect(),o=a.clientX-l.left,_=a.clientY-l.top,r={x:(o-e.x)/e.scale.x,y:(_-e.y)/e.scale.y};e.scale.set(i),e.x=o-r.x*i,e.y=_-r.y*i,D(u,i,!0)},{passive:!1}),t.addEventListener("pointerdown",a=>{Y=!0,F={x:a.clientX,y:a.clientY},t.style.cursor="grabbing"}),t.addEventListener("pointermove",a=>{if(!Y||!e)return;const n=a.clientX-F.x,i=a.clientY-F.y;e.x+=n,e.y+=i,F={x:a.clientX,y:a.clientY}}),t.addEventListener("pointerup",()=>{Y=!1,t.style.cursor="grab"}),t.addEventListener("pointerleave",()=>{Y=!1,t.style.cursor="grab"}),t.style.cursor="grab"}function At(){if(!e||!c)return;const a=c.canvas.getBoundingClientRect(),n=a.width/2,i=a.height/2,l=Math.min(4,e.scale.x*1.3),o={x:(n-e.x)/e.scale.x,y:(i-e.y)/e.scale.y};e.scale.set(l),e.x=n-o.x*l,e.y=i-o.y*l,D(u,l,!0)}function Gt(){if(!e||!c)return;const a=c.canvas.getBoundingClientRect(),n=a.width/2,i=a.height/2,l=Math.max(.25,e.scale.x*.7),o={x:(n-e.x)/e.scale.x,y:(i-e.y)/e.scale.y};e.scale.set(l),e.x=n-o.x*l,e.y=i-o.y*l,D(u,l,!0)}function Et(){e&&(e.scale.set(1),e.x=20,e.y=20,D(u,1))}Qt(()=>{c&&e&&v(h)&&wt(()=>import("../chunks/C27XmNSZ.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>vt(t))}),Kt(()=>{c&&(c.destroy(!0,{children:!0}),c=null)});var W=xe();ae("hoqwi7",t=>{Jt(()=>{Xt.title="Infrastructure Map | Orchon"})});var j=d(W),q=d(j),ht=g(d(q),4),Lt=d(ht);x(ht),$t(4),x(q);var yt=g(q,2),N=d(yt);N.__click=()=>D(f,!v(f));var Pt=d(N);{var Bt=t=>{ne(t,{class:"w-3.5 h-3.5"})},Yt=t=>{re(t,{class:"w-3.5 h-3.5"})};te(Pt,t=>{v(f)?t(Bt):t(Yt,!1)})}$t(),x(N);var gt=g(N,2),O=d(gt);O.__click=Gt;var Ft=d(O);le(Ft,{class:"w-4 h-4"}),x(O);var K=g(O,2),Ot=d(K);x(K);var U=g(K,2);U.__click=At;var Ut=d(U);ie(Ut,{class:"w-4 h-4"}),x(U);var Q=g(U,2);Q.__click=Et;var Ht=d(Q);se(Ht,{class:"w-4 h-4"}),x(Q),x(gt),x(yt),x(j);var mt=g(j,4);oe(mt,t=>p=t,()=>p);var _t=g(mt,2),J=d(_t),Zt=g(d(J),2);Mt(Zt,17,()=>Object.entries(ut),([t,a])=>t,(t,a)=>{var n=ct(()=>St(v(a),2));let i=()=>v(n)[0],l=()=>v(n)[1];var o=ce(),_=d(o),r=g(_,2),$=d(r,!0);x(r),x(o),lt(w=>{kt(_,`background-color: #${w??""};`),Z($,i())},[()=>l().toString(16).padStart(6,"0")]),C(t,o)}),x(J);var bt=g(J,2),Vt=g(d(bt),2);Mt(Vt,17,()=>Object.entries(V).slice(0,8),([t,a])=>t,(t,a)=>{var n=ct(()=>St(v(a),2));let i=()=>v(n)[0],l=()=>v(n)[1];var o=de(),_=d(o),r=g(_,2),$=d(r,!0);x(r),x(o),lt(w=>{kt(_,`background-color: #${w??""};`),Z($,i())},[()=>l().toString(16).padStart(6,"0")]),C(t,o)}),x(bt),x(_t),x(W),lt(t=>{Z(Lt,`${v(h).length??""} projects`),ee(N,"title",v(f)?"Sort Z-A":"Sort A-Z"),Z(Ot,`${t??""}%`)},[()=>Math.round(v(u)*100)]),C(m,W),z()}It(["click"]);export{we as component};
