import"../chunks/DsnmJJEf.js";import{p as $,d as O,c as re,b as T,a as g,n as se,an as te,a9 as It,D as jt,aa as u,f as x,L as C,P as Ct,M as t,O as s,I as r,ao as St,N as e,al as M,am as S}from"../chunks/bOSu8_9I.js";import{s as ne,d as Pt,a as d}from"../chunks/Ctk_jbRy.js";import{i as N}from"../chunks/C3RYBViL.js";import{I as oe,e as ze,a as ae,s as Mt}from"../chunks/CNoyRSNi.js";import{c as Nt}from"../chunks/CLEP-BiZ.js";import{h as $t}from"../chunks/Bha2itWB.js";import{A as Ot}from"../chunks/CXc4qgr9.js";import{S as Be}from"../chunks/DzKsVWs4.js";import{B as He}from"../chunks/v44Eq2zK.js";import{s as ie,r as le}from"../chunks/Di9dn3sX.js";import{R as Tt}from"../chunks/CeJG3NcX.js";import{S as Et}from"../chunks/kAnafDTg.js";import{E as Je}from"../chunks/D3M7jnZE.js";import{G as Gt}from"../chunks/DoOMFIXW.js";function Ve(h,o){$(o,!0);let i=le(o,["$$slots","$$events","$$legacy"]);const p=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"M10 12h4"}]];oe(h,ie({name:"archive"},()=>i,{get iconNode(){return p},children:(c,y)=>{var f=re(),b=T(f);ne(b,()=>o.children??se),g(c,f)},$$slots:{default:!0}})),O()}function Fe(h,o){$(o,!0);let i=le(o,["$$slots","$$events","$$legacy"]);const p=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2"}],["path",{d:"M6.453 15h11.094"}],["path",{d:"M8.5 2h7"}]];oe(h,ie({name:"flask-conical"},()=>i,{get iconNode(){return p},children:(c,y)=>{var f=re(),b=T(f);ne(b,()=>o.children??se),g(c,f)},$$slots:{default:!0}})),O()}function Le(h,o){$(o,!0);let i=le(o,["$$slots","$$events","$$legacy"]);const p=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"}]];oe(h,ie({name:"wrench"},()=>i,{get iconNode(){return p},children:(c,y)=>{var f=re(),b=T(f);ne(b,()=>o.children??se),g(c,f)},$$slots:{default:!0}})),O()}var At=x('<span class="text-sm text-emerald-400"> </span>'),Dt=x('<button class="px-3 py-1.5 text-sm bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-2"><!> Reset</button> <button class="px-4 py-1.5 text-sm bg-emerald-600 hover:bg-emerald-500 rounded-lg transition-colors flex items-center gap-2 font-medium"><!> Save Changes</button>',1),Rt=x('<span class="px-1.5 py-0.5 text-[10px] bg-amber-500/20 text-amber-400 rounded">modified</span>'),zt=x('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-blue-400 hover:text-blue-300 truncate group"><!> <span class="truncate"> </span> <!></a>'),Bt=x('<span class="text-gray-600">No custom domain</span>'),Ht=x('<div><button><span></span></button> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="font-medium text-sm truncate"> </span> <!></div> <div class="text-xs text-gray-500 font-mono truncate"> </div></div> <div class="w-64 text-sm"><!></div> <div class="flex items-center gap-2"><button class="p-2 hover:bg-gray-700 rounded-lg transition-colors text-gray-400 hover:text-white" title="Open GCP Console"><!></button></div></div>'),Jt=x('<div class="bg-gray-900 rounded-xl border border-gray-800 overflow-hidden"><div class="px-4 py-3 bg-gray-800/50 border-b border-gray-800 flex items-center justify-between"><div class="flex items-center gap-3"><!> <span class="font-medium"> </span> <span class="text-sm text-gray-500"> </span></div> <div class="flex items-center gap-2"><button class="px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors">Enable All</button> <button class="px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors">Disable All</button></div></div> <div class="divide-y divide-gray-800"></div></div>'),Vt=x(`<div class="min-h-screen bg-gray-950 text-gray-100"><div class="sticky top-0 z-10 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800"><div class="max-w-6xl mx-auto px-4 py-3"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><a href="/infrastructure/map" class="p-2 hover:bg-gray-800 rounded-lg transition-colors"><!></a> <div><h1 class="text-lg font-semibold">Infrastructure Settings</h1> <p class="text-xs text-gray-500">Manage GCP projects visibility in the infrastructure map</p></div></div> <div class="flex items-center gap-3"><!> <!></div></div></div></div> <div class="bg-gray-900/50 border-b border-gray-800"><div class="max-w-6xl mx-auto px-4 py-3"><div class="flex items-center gap-6 text-sm"><div class="flex items-center gap-2"><span class="text-gray-500">Total:</span> <span class="font-medium"> </span></div> <div class="flex items-center gap-2"><span class="text-gray-500">Enabled:</span> <span class="font-medium text-emerald-400"> </span></div> <div class="w-px h-4 bg-gray-700"></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div></div></div></div> <div class="max-w-6xl mx-auto px-4 py-6 space-y-6"><!> <div class="bg-gray-900/50 rounded-xl border border-gray-800 p-4"><h3 class="font-medium mb-2">How this works</h3> <ul class="text-sm text-gray-400 space-y-1"><li>Toggle projects to show/hide them in the Infrastructure Map's Ownership view</li> <li>Changes are saved to your browser's localStorage</li> <li>Click the external link icon to open the project in GCP Console</li> <li>Projects marked "Old / Deprecated" are safe to delete from GCP if unused</li></ul></div></div></div>`);function na(h,o){$(o,!0);let i=te(It({})),p=te(!1),c=te(null);jt(()=>{if(typeof window<"u"){const a=localStorage.getItem("gcp-project-overrides");if(a)try{u(i,JSON.parse(a),!0)}catch{u(i,{},!0)}}});function y(a,n){return a in r(i)?r(i)[a]:n}function f(a,n){const v=y(a,n);r(i)[a]=!v,u(p,!0)}function b(){typeof window<"u"&&(localStorage.setItem("gcp-project-overrides",JSON.stringify(r(i))),u(p,!1),u(c,"Changes saved! Refresh the Infrastructure Map to see updates."),setTimeout(()=>u(c,null),5e3))}function We(){u(i,{},!0),typeof window<"u"&&localStorage.removeItem("gcp-project-overrides"),u(p,!1),u(c,"Reset to config defaults."),setTimeout(()=>u(c,null),3e3)}function qe(a){return a.filter(n=>y(n.projectId,n.enabled)).length}function de(a,n){for(const v of a)r(i)[v.projectId]=n;u(p,!0)}function Ke(a){switch(a){case"campus":return Be;case"org-portal":return He;case"testing":return Fe;case"infrastructure":return Le;default:return Ve}}function Qe(a){switch(a){case"campus":return"text-blue-400";case"org-portal":return"text-emerald-400";case"testing":return"text-amber-400";case"infrastructure":return"text-purple-400";default:return"text-gray-500"}}function Ue(a){window.open(`https://console.cloud.google.com/home/dashboard?project=${a}`,"_blank")}var E=Vt();$t("17crefa",a=>{Ct(()=>{St.title="Infrastructure Settings | Orchon"})});var G=t(E),ce=t(G),ve=t(ce),A=t(ve),pe=t(A),Xe=t(pe);Ot(Xe,{class:"w-5 h-5"}),e(pe),M(2),e(A);var ue=s(A,2),ge=t(ue);{var Ye=a=>{var n=At(),v=t(n,!0);e(n),C(()=>d(v,r(c))),g(a,n)};N(ge,a=>{r(c)&&a(Ye)})}var Ze=s(ge,2);{var et=a=>{var n=Dt(),v=T(n);v.__click=We;var F=t(v);Tt(F,{class:"w-4 h-4"}),M(),e(v);var w=s(v,2);w.__click=b;var k=t(w);Et(k,{class:"w-4 h-4"}),M(),e(w),g(a,n)};N(Ze,a=>{r(p)&&a(et)})}e(ue),e(ve),e(ce),e(G);var D=s(G,2),fe=t(D),me=t(fe),R=t(me),_e=s(t(R),2),tt=t(_e,!0);e(_e),e(R);var z=s(R,2),xe=s(t(z),2),at=t(xe,!0);e(xe),e(z);var B=s(z,4),he=t(B);Be(he,{class:"w-3.5 h-3.5 text-blue-400"});var be=s(he,2),rt=t(be,!0);e(be),e(B);var H=s(B,2),ye=t(H);He(ye,{class:"w-3.5 h-3.5 text-emerald-400"});var we=s(ye,2),st=t(we,!0);e(we),e(H);var J=s(H,2),ke=t(J);Fe(ke,{class:"w-3.5 h-3.5 text-amber-400"});var Ie=s(ke,2),nt=t(Ie,!0);e(Ie),e(J);var V=s(J,2),je=t(V);Le(je,{class:"w-3.5 h-3.5 text-purple-400"});var Ce=s(je,2),ot=t(Ce,!0);e(Ce),e(V);var Se=s(V,2),Pe=t(Se);Ve(Pe,{class:"w-3.5 h-3.5 text-gray-500"});var Me=s(Pe,2),it=t(Me,!0);e(Me),e(Se),e(me),e(fe),e(D);var Ne=s(D,2),lt=t(Ne);ze(lt,17,()=>o.data.groupedProjects,a=>a.type,(a,n)=>{const v=S(()=>Ke(r(n).type)),F=S(()=>Qe(r(n).type)),w=S(()=>qe(r(n).projects));var k=Jt(),L=t(k),W=t(L),$e=t(W);Nt($e,()=>r(v),(I,l)=>{l(I,{get class(){return`w-5 h-5 ${r(F)??""}`}})});var q=s($e,2),dt=t(q,!0);e(q);var Oe=s(q,2),ct=t(Oe);e(Oe),e(W);var Te=s(W,2),Ee=t(Te);Ee.__click=()=>de(r(n).projects,!0);var vt=s(Ee,2);vt.__click=()=>de(r(n).projects,!1),e(Te),e(L);var Ge=s(L,2);ze(Ge,21,()=>r(n).projects,I=>I.projectId,(I,l)=>{const K=S(()=>y(r(l).projectId,r(l).enabled)),pt=S(()=>r(l).projectId in r(i));var P=Ht(),j=t(P);j.__click=()=>f(r(l).projectId,r(l).enabled);var ut=t(j);e(j);var Q=s(j,2),U=t(Q),X=t(U),gt=t(X,!0);e(X);var ft=s(X,2);{var mt=m=>{var _=Rt();g(m,_)};N(ft,m=>{r(pt)&&m(mt)})}e(U);var Ae=s(U,2),_t=t(Ae,!0);e(Ae),e(Q);var Y=s(Q,2),xt=t(Y);{var ht=m=>{var _=zt(),Re=t(_);Gt(Re,{class:"w-3.5 h-3.5 shrink-0"});var ee=s(Re,2),wt=t(ee,!0);e(ee);var kt=s(ee,2);Je(kt,{class:"w-3 h-3 shrink-0 opacity-0 group-hover:opacity-100"}),e(_),C(()=>{Mt(_,"href",`https://${r(l).customDomain??""}`),d(wt,r(l).customDomain)}),g(m,_)},bt=m=>{var _=Bt();g(m,_)};N(xt,m=>{r(l).customDomain?m(ht):m(bt,!1)})}e(Y);var De=s(Y,2),Z=t(De);Z.__click=()=>Ue(r(l).projectId);var yt=t(Z);Je(yt,{class:"w-4 h-4"}),e(Z),e(De),e(P),C(()=>{ae(P,1,`px-4 py-3 flex items-center gap-4 hover:bg-gray-800/30 transition-colors ${r(K)?"":"opacity-50"}`),ae(j,1,`w-10 h-6 rounded-full transition-colors relative ${r(K)?"bg-emerald-600":"bg-gray-700"}`),ae(ut,1,`absolute top-1 w-4 h-4 rounded-full bg-white transition-all ${r(K)?"left-5":"left-1"}`),d(gt,r(l).displayName),d(_t,r(l).projectId)}),g(I,P)}),e(Ge),e(k),C(()=>{d(dt,r(n).displayType),d(ct,`(${r(w)??""}/${r(n).projects.length??""} enabled)`)}),g(a,k)}),M(2),e(Ne),e(E),C(a=>{d(tt,o.data.stats.total),d(at,a),d(rt,o.data.stats.campuses),d(st,o.data.stats.orgPortals),d(nt,o.data.stats.testing),d(ot,o.data.stats.infrastructure),d(it,o.data.stats.other)},[()=>Object.values(r(i)).filter(a=>a).length+o.data.projects.filter(a=>!(a.projectId in r(i))&&a.enabled).length]),g(h,E),O()}Pt(["click"]);export{na as component};
