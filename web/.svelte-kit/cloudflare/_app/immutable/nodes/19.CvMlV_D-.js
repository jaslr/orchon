import"../chunks/DsnmJJEf.js";import{p as S,h as N,c as E,f as P,a as g,o as G,s as ie,b as It,u as $t,d as f,e as b,t as j,j as jt,k as t,l as s,g as r,$ as Ct,r as e,n as O,i as C}from"../chunks/Dnd2HTQh.js";import{s as p}from"../chunks/BDR25Ma5.js";import{i as T}from"../chunks/DKZzDoih.js";import{e as He,s as le}from"../chunks/C4TM4onk.js";import{c as St}from"../chunks/LdpL5_qW.js";import{h as Nt}from"../chunks/DoDuvpHD.js";import{I as A,s as Pt}from"../chunks/H3ICmHr2.js";import{d as Mt}from"../chunks/Dc2clUla.js";import{s as D}from"../chunks/-9B-tiFA.js";import{s as R,r as H}from"../chunks/CqyOSPLz.js";import{S as ze}from"../chunks/B_HwfPhO.js";import{B as Be}from"../chunks/DjzREpZG.js";import{R as Ot}from"../chunks/D_udCXUP.js";import{S as Tt}from"../chunks/DxDiyXRC.js";import{E as Je}from"../chunks/BFTGOLv7.js";import{G as Et}from"../chunks/Dbpxzosl.js";function Ve(_,n){S(n,!0);let i=H(n,["$$slots","$$events","$$legacy"]);const d=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"M10 12h4"}]];A(_,R({name:"archive"},()=>i,{get iconNode(){return d},children:(l,y)=>{var c=E(),x=P(c);D(x,()=>n.children??G),g(l,c)},$$slots:{default:!0}})),N()}function Gt(_,n){S(n,!0);let i=H(n,["$$slots","$$events","$$legacy"]);const d=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];A(_,R({name:"arrow-left"},()=>i,{get iconNode(){return d},children:(l,y)=>{var c=E(),x=P(c);D(x,()=>n.children??G),g(l,c)},$$slots:{default:!0}})),N()}function Fe(_,n){S(n,!0);let i=H(n,["$$slots","$$events","$$legacy"]);const d=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2"}],["path",{d:"M6.453 15h11.094"}],["path",{d:"M8.5 2h7"}]];A(_,R({name:"flask-conical"},()=>i,{get iconNode(){return d},children:(l,y)=>{var c=E(),x=P(c);D(x,()=>n.children??G),g(l,c)},$$slots:{default:!0}})),N()}function We(_,n){S(n,!0);let i=H(n,["$$slots","$$events","$$legacy"]);const d=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"}]];A(_,R({name:"wrench"},()=>i,{get iconNode(){return d},children:(l,y)=>{var c=E(),x=P(c);D(x,()=>n.children??G),g(l,c)},$$slots:{default:!0}})),N()}var At=b('<span class="text-sm text-emerald-400"> </span>'),Dt=b('<button class="px-3 py-1.5 text-sm bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-2"><!> Reset</button> <button class="px-4 py-1.5 text-sm bg-emerald-600 hover:bg-emerald-500 rounded-lg transition-colors flex items-center gap-2 font-medium"><!> Save Changes</button>',1),Rt=b('<span class="px-1.5 py-0.5 text-[10px] bg-amber-500/20 text-amber-400 rounded">modified</span>'),Ht=b('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-blue-400 hover:text-blue-300 truncate group"><!> <span class="truncate"> </span> <!></a>'),zt=b('<span class="text-gray-600">No custom domain</span>'),Bt=b('<div><button><span></span></button> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="font-medium text-sm truncate"> </span> <!></div> <div class="text-xs text-gray-500 font-mono truncate"> </div></div> <div class="w-64 text-sm"><!></div> <div class="flex items-center gap-2"><button class="p-2 hover:bg-gray-700 rounded-lg transition-colors text-gray-400 hover:text-white" title="Open GCP Console"><!></button></div></div>'),Jt=b('<div class="bg-gray-900 rounded-xl border border-gray-800 overflow-hidden"><div class="px-4 py-3 bg-gray-800/50 border-b border-gray-800 flex items-center justify-between"><div class="flex items-center gap-3"><!> <span class="font-medium"> </span> <span class="text-sm text-gray-500"> </span></div> <div class="flex items-center gap-2"><button class="px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors">Enable All</button> <button class="px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors">Disable All</button></div></div> <div class="divide-y divide-gray-800"></div></div>'),Vt=b(`<div class="min-h-screen bg-gray-950 text-gray-100"><div class="sticky top-0 z-10 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800"><div class="max-w-6xl mx-auto px-4 py-3"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><a href="/infrastructure/map" class="p-2 hover:bg-gray-800 rounded-lg transition-colors"><!></a> <div><h1 class="text-lg font-semibold">Infrastructure Settings</h1> <p class="text-xs text-gray-500">Manage GCP projects visibility in the infrastructure map</p></div></div> <div class="flex items-center gap-3"><!> <!></div></div></div></div> <div class="bg-gray-900/50 border-b border-gray-800"><div class="max-w-6xl mx-auto px-4 py-3"><div class="flex items-center gap-6 text-sm"><div class="flex items-center gap-2"><span class="text-gray-500">Total:</span> <span class="font-medium"> </span></div> <div class="flex items-center gap-2"><span class="text-gray-500">Enabled:</span> <span class="font-medium text-emerald-400"> </span></div> <div class="w-px h-4 bg-gray-700"></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div> <div class="flex items-center gap-1.5"><!> <span class="text-gray-400"> </span></div></div></div></div> <div class="max-w-6xl mx-auto px-4 py-6 space-y-6"><!> <div class="bg-gray-900/50 rounded-xl border border-gray-800 p-4"><h3 class="font-medium mb-2">How this works</h3> <ul class="text-sm text-gray-400 space-y-1"><li>Toggle projects to show/hide them in the Infrastructure Map's Ownership view</li> <li>Changes are saved to your browser's localStorage</li> <li>Click the external link icon to open the project in GCP Console</li> <li>Projects marked "Old / Deprecated" are safe to delete from GCP if unused</li></ul></div></div></div>`);function ia(_,n){S(n,!0);let i=ie(It({})),d=ie(!1),l=ie(null);$t(()=>{if(typeof window<"u"){const a=localStorage.getItem("gcp-project-overrides");if(a)try{f(i,JSON.parse(a),!0)}catch{f(i,{},!0)}}});function y(a,o){return a in r(i)?r(i)[a]:o}function c(a,o){const u=y(a,o);r(i)[a]=!u,f(d,!0)}function x(){typeof window<"u"&&(localStorage.setItem("gcp-project-overrides",JSON.stringify(r(i))),f(d,!1),f(l,"Changes saved! Refresh the Infrastructure Map to see updates."),setTimeout(()=>f(l,null),5e3))}function qe(){f(i,{},!0),typeof window<"u"&&localStorage.removeItem("gcp-project-overrides"),f(d,!1),f(l,"Reset to config defaults."),setTimeout(()=>f(l,null),3e3)}function Ke(a){return a.filter(o=>y(o.projectId,o.enabled)).length}function de(a,o){for(const u of a)r(i)[u.projectId]=o;f(d,!0)}function Le(a){switch(a){case"campus":return ze;case"org-portal":return Be;case"testing":return Fe;case"infrastructure":return We;default:return Ve}}function Qe(a){switch(a){case"campus":return"text-blue-400";case"org-portal":return"text-emerald-400";case"testing":return"text-amber-400";case"infrastructure":return"text-purple-400";default:return"text-gray-500"}}function Ue(a){window.open(`https://console.cloud.google.com/home/dashboard?project=${a}`,"_blank")}var z=Vt();Nt("17crefa",a=>{jt(()=>{Ct.title="Infrastructure Settings | Orchon"})});var B=t(z),ce=t(B),ve=t(ce),J=t(ve),pe=t(J),Xe=t(pe);Gt(Xe,{class:"w-5 h-5"}),e(pe),O(2),e(J);var ue=s(J,2),ge=t(ue);{var Ye=a=>{var o=At(),u=t(o,!0);e(o),j(()=>p(u,r(l))),g(a,o)};T(ge,a=>{r(l)&&a(Ye)})}var Ze=s(ge,2);{var et=a=>{var o=Dt(),u=P(o);u.__click=qe;var U=t(u);Ot(U,{class:"w-4 h-4"}),O(),e(u);var w=s(u,2);w.__click=x;var k=t(w);Tt(k,{class:"w-4 h-4"}),O(),e(w),g(a,o)};T(Ze,a=>{r(d)&&a(et)})}e(ue),e(ve),e(ce),e(B);var V=s(B,2),fe=t(V),me=t(fe),F=t(me),_e=s(t(F),2),tt=t(_e,!0);e(_e),e(F);var W=s(F,2),xe=s(t(W),2),at=t(xe,!0);e(xe),e(W);var q=s(W,4),he=t(q);ze(he,{class:"w-3.5 h-3.5 text-blue-400"});var be=s(he,2),rt=t(be,!0);e(be),e(q);var K=s(q,2),ye=t(K);Be(ye,{class:"w-3.5 h-3.5 text-emerald-400"});var we=s(ye,2),st=t(we,!0);e(we),e(K);var L=s(K,2),ke=t(L);Fe(ke,{class:"w-3.5 h-3.5 text-amber-400"});var Ie=s(ke,2),nt=t(Ie,!0);e(Ie),e(L);var Q=s(L,2),$e=t(Q);We($e,{class:"w-3.5 h-3.5 text-purple-400"});var je=s($e,2),ot=t(je,!0);e(je),e(Q);var Ce=s(Q,2),Se=t(Ce);Ve(Se,{class:"w-3.5 h-3.5 text-gray-500"});var Ne=s(Se,2),it=t(Ne,!0);e(Ne),e(Ce),e(me),e(fe),e(V);var Pe=s(V,2),lt=t(Pe);He(lt,17,()=>n.data.groupedProjects,a=>a.type,(a,o)=>{const u=C(()=>Le(r(o).type)),U=C(()=>Qe(r(o).type)),w=C(()=>Ke(r(o).projects));var k=Jt(),X=t(k),Y=t(X),Me=t(Y);St(Me,()=>r(u),(I,v)=>{v(I,{get class(){return`w-5 h-5 ${r(U)??""}`}})});var Z=s(Me,2),dt=t(Z,!0);e(Z);var Oe=s(Z,2),ct=t(Oe);e(Oe),e(Y);var Te=s(Y,2),Ee=t(Te);Ee.__click=()=>de(r(o).projects,!0);var vt=s(Ee,2);vt.__click=()=>de(r(o).projects,!1),e(Te),e(X);var Ge=s(X,2);He(Ge,21,()=>r(o).projects,I=>I.projectId,(I,v)=>{const ee=C(()=>y(r(v).projectId,r(v).enabled)),pt=C(()=>r(v).projectId in r(i));var M=Bt(),$=t(M);$.__click=()=>c(r(v).projectId,r(v).enabled);var ut=t($);e($);var te=s($,2),ae=t(te),re=t(ae),gt=t(re,!0);e(re);var ft=s(re,2);{var mt=m=>{var h=Rt();g(m,h)};T(ft,m=>{r(pt)&&m(mt)})}e(ae);var Ae=s(ae,2),_t=t(Ae,!0);e(Ae),e(te);var se=s(te,2),xt=t(se);{var ht=m=>{var h=Ht(),Re=t(h);Et(Re,{class:"w-3.5 h-3.5 shrink-0"});var oe=s(Re,2),wt=t(oe,!0);e(oe);var kt=s(oe,2);Je(kt,{class:"w-3 h-3 shrink-0 opacity-0 group-hover:opacity-100"}),e(h),j(()=>{Pt(h,"href",`https://${r(v).customDomain??""}`),p(wt,r(v).customDomain)}),g(m,h)},bt=m=>{var h=zt();g(m,h)};T(xt,m=>{r(v).customDomain?m(ht):m(bt,!1)})}e(se);var De=s(se,2),ne=t(De);ne.__click=()=>Ue(r(v).projectId);var yt=t(ne);Je(yt,{class:"w-4 h-4"}),e(ne),e(De),e(M),j(()=>{le(M,1,`px-4 py-3 flex items-center gap-4 hover:bg-gray-800/30 transition-colors ${r(ee)?"":"opacity-50"}`),le($,1,`w-10 h-6 rounded-full transition-colors relative ${r(ee)?"bg-emerald-600":"bg-gray-700"}`),le(ut,1,`absolute top-1 w-4 h-4 rounded-full bg-white transition-all ${r(ee)?"left-5":"left-1"}`),p(gt,r(v).displayName),p(_t,r(v).projectId)}),g(I,M)}),e(Ge),e(k),j(()=>{p(dt,r(o).displayType),p(ct,`(${r(w)??""}/${r(o).projects.length??""} enabled)`)}),g(a,k)}),O(2),e(Pe),e(z),j(a=>{p(tt,n.data.stats.total),p(at,a),p(rt,n.data.stats.campuses),p(st,n.data.stats.orgPortals),p(nt,n.data.stats.testing),p(ot,n.data.stats.infrastructure),p(it,n.data.stats.other)},[()=>Object.values(r(i)).filter(a=>a).length+n.data.projects.filter(a=>!(a.projectId in r(i))&&a.enabled).length]),g(_,z),N()}Mt(["click"]);export{ia as component};
